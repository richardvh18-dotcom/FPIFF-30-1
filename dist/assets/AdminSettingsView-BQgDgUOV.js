import{c as R,d as c,e as u,j as e,L as j,b as T,S as z,n as E,I as S,l as I,E as B,D as G}from"./index-DNbqce-j.js";import{r}from"./react-vendor-CkwvfVK2.js";import{l as b,o as M,p as D,t as L,s as U}from"./firebase-DdpHYWNd.js";import{P as _,a as O}from"./AdminDashboard-BkhDkzix.js";import{T as H}from"./type-C4FQ1vum.js";import{T as v}from"./trash-2-CmT6fCSF.js";import{U as $}from"./upload-DE5XOlRL.js";import"./arrow-left-CeHKlJCF.js";import"./users-BzjIxhpA.js";import"./clock-yngyoSLs.js";import"./book-open-Dw5UZXUq.js";/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=R("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),W=[{id:"simple_ff",url:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect fill='%233b82f6' width='100' height='100' rx='20'/%3E%3Ctext x='50' y='50' text-anchor='middle' dy='0.35em' font-family='Arial Black' font-size='40' fill='white' font-weight='900'%3EFF%3C/text%3E%3C/svg%3E",label:"FF Blauw"},{id:"simple_mes",url:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect fill='%2310b981' width='100' height='100' rx='20'/%3E%3Ctext x='50' y='50' text-anchor='middle' dy='0.35em' font-family='Arial Black' font-size='28' fill='white' font-weight='900'%3EMES%3C/text%3E%3C/svg%3E",label:"MES Groen"},{id:"simple_factory",url:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect fill='%230f172a' width='100' height='100' rx='20'/%3E%3Cpath d='M30 70h40v5H30z' fill='%23fbbf24'/%3E%3Cpath d='M35 45h8v25h-8z' fill='%2394a3b8'/%3E%3Cpath d='M50 35h8v35h-8z' fill='%2394a3b8'/%3E%3Cpath d='M32 48l8-8v5h5l8-8v5h5l8-8v8H32z' fill='%23fbbf24'/%3E%3C/svg%3E",label:"Factory"}],le=()=>{const[A,w]=r.useState(!0),[d,N]=r.useState(!1),[x,p]=r.useState(null),[m,f]=r.useState([]),g=r.useRef(null),[s,i]=r.useState({appName:"FPI Future Factory",logoUrl:"",themeColor:"blue",maintenanceMode:!1,uploadedLogos:[]}),[h,y]=r.useState("");r.useEffect(()=>{const t=b(u,...c.GENERAL_SETTINGS),a=M(t,l=>{if(l.exists()){const o=l.data();i(n=>({...n,...o})),f(o.uploadedLogos||[])}w(!1)},l=>{console.error("Fout bij laden root settings:",l),w(!1)});return()=>a()},[]),r.useEffect(()=>{(async()=>{try{const a=b(u,...c.AI_CONFIG),l=await D(a);l.exists()&&y(l.data().systemPrompt||"")}catch(a){console.error(a)}})()},[]);const k=async()=>{N(!0),p(null);try{const t=b(u,...c.GENERAL_SETTINGS);await L(t,{...s,lastUpdated:U(),updatedBy:"Admin Hub"},{merge:!0}),h&&await L(b(u,...c.AI_CONFIG),{systemPrompt:h,lastUpdated:U()},{merge:!0}),p({type:"success",msg:"Systeeminstellingen gepubliceerd!"}),setTimeout(()=>p(null),3e3)}catch(t){console.error("Save Error:",t),p({type:"error",msg:"Opslaan mislukt."})}finally{N(!1)}},F=t=>{const a=t.target.files[0];if(!a)return;if(a.size>500*1024){alert("Bestand te groot (max 500KB).");return}const l=new FileReader;l.onloadend=()=>{const o=l.result,n=[...s.uploadedLogos,{id:Date.now().toString(),url:o,uploadedAt:new Date().toISOString(),fileName:a.name}];i({...s,logoUrl:o,uploadedLogos:n}),f(n)},l.readAsDataURL(a)},C=()=>{i({...s,logoUrl:""}),g.current&&(g.current.value="")},P=t=>{var o;const a=s.uploadedLogos.filter(n=>n.id!==t),l=((o=m.find(n=>n.id===t))==null?void 0:o.url)===s.logoUrl;i({...s,uploadedLogos:a,logoUrl:l?"":s.logoUrl}),f(a)};return A?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-20 gap-4",children:[e.jsx(j,{className:"animate-spin text-blue-600",size:48}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 italic",children:"Master Config laden..."})]}):e.jsxs("div",{className:"p-6 md:p-10 max-w-6xl mx-auto space-y-10 animate-in fade-in duration-500 h-full overflow-y-auto custom-scrollbar text-left pb-40",children:[e.jsxs("div",{className:"bg-white p-8 rounded-[40px] border border-slate-200 shadow-sm flex flex-col md:flex-row justify-between items-center gap-6 overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 rotate-12",children:e.jsx(T,{size:150})}),e.jsxs("div",{className:"flex items-center gap-6 relative z-10",children:[e.jsx("div",{className:"p-4 bg-slate-900 text-white rounded-[22px] shadow-xl",children:e.jsx(_,{size:32})}),e.jsxs("div",{className:"text-left",children:[e.jsxs("h2",{className:"text-3xl font-black text-slate-900 uppercase italic tracking-tighter leading-none",children:["Systeem ",e.jsx("span",{className:"text-blue-600",children:"Configuratie"})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[e.jsxs("span",{className:"flex items-center gap-1.5 text-[9px] font-black text-emerald-600 bg-emerald-50 px-2.5 py-0.5 rounded border border-emerald-100 uppercase italic",children:[e.jsx(z,{size:10})," Root Encrypted"]}),e.jsxs("p",{className:"text-[9px] font-mono text-slate-400 uppercase tracking-widest",children:["Target: /",c.GENERAL_SETTINGS.join("/")]})]})]})]}),e.jsxs("button",{onClick:k,disabled:d,className:"bg-slate-900 text-white px-10 py-5 rounded-[22px] font-black text-[10px] uppercase tracking-[0.2em] shadow-xl hover:bg-blue-600 transition-all active:scale-95 disabled:opacity-50 flex items-center gap-3 relative z-10",children:[d?e.jsx(j,{className:"animate-spin"}):e.jsx(E,{size:18})," ","Publiceren naar Root"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white p-8 rounded-[40px] border border-slate-200 shadow-sm space-y-8 text-left",children:[e.jsxs("h3",{className:"text-xs font-black uppercase text-slate-400 tracking-[0.2em] flex items-center gap-3 italic",children:[e.jsx(H,{size:16,className:"text-blue-500"})," Basis Informatie"]}),e.jsxs("div",{className:"space-y-2 text-left",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-2 block",children:"Applicatie Naam"}),e.jsx("input",{className:"w-full p-5 bg-slate-50 border-2 border-slate-100 rounded-2xl font-black text-slate-800 outline-none focus:border-blue-500 focus:bg-white transition-all text-lg shadow-inner",value:s.appName,onChange:t=>i({...s,appName:t.target.value})}),e.jsx("p",{className:"text-[9px] text-slate-400 italic ml-2 mt-2",children:"Dit is de naam die wordt getoond in de browser-tab en de header."})]})]}),e.jsxs("div",{className:"bg-slate-900 p-8 rounded-[40px] shadow-2xl flex items-center gap-6 relative overflow-hidden text-left border border-white/5",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5",children:e.jsx(V,{size:100})}),e.jsxs("div",{className:"flex items-center gap-4 relative z-10 overflow-hidden",children:[e.jsx("div",{className:"shrink-0",children:s.logoUrl?e.jsx("img",{src:s.logoUrl,className:"h-12 w-12 object-contain bg-white/10 rounded-xl p-1.5 border border-white/10",alt:"Logo"}):e.jsx("div",{className:"h-12 w-12 bg-blue-600 rounded-xl flex items-center justify-center font-black text-white italic",children:"FF"})}),e.jsxs("div",{className:"text-left overflow-hidden",children:[e.jsx("h4",{className:"text-xl font-black text-white uppercase italic tracking-tighter truncate leading-none",children:s.appName}),e.jsx("p",{className:"text-[9px] font-black text-slate-500 uppercase tracking-[0.4em] mt-1.5",children:"Live Header Preview"})]})]})]})]}),e.jsxs("div",{className:"bg-white p-8 rounded-[40px] border border-slate-200 shadow-sm space-y-8 text-left",children:[e.jsxs("h3",{className:"text-xs font-black uppercase text-slate-400 tracking-[0.2em] flex items-center gap-3 italic text-left",children:[e.jsx(S,{size:16,className:"text-blue-500"})," Branding & Media"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-2 block",children:"Logo Bron (URL of Bestand)"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx(S,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-blue-500 transition-colors"}),e.jsx("input",{className:"w-full pl-12 pr-12 py-4 bg-slate-50 border-2 border-slate-100 rounded-2xl text-xs font-bold text-slate-600 outline-none focus:border-blue-500 transition-all shadow-inner truncate",value:s.logoUrl,onChange:t=>!t.target.value.startsWith("data:")&&i({...s,logoUrl:t.target.value}),placeholder:"https://..."}),s.logoUrl&&e.jsx("button",{onClick:C,className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-300 hover:text-rose-500 transition-all",children:e.jsx(v,{size:16})})]}),e.jsx("button",{onClick:()=>g.current.click(),className:"bg-slate-100 text-slate-600 px-6 rounded-2xl font-black text-[10px] uppercase hover:bg-blue-600 hover:text-white transition-all shadow-sm active:scale-95 border-2 border-transparent hover:border-blue-300",children:e.jsx($,{size:18})}),e.jsx("input",{type:"file",ref:g,onChange:F,accept:"image/*",className:"hidden"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase ml-2 block italic",children:"Systeem Presets"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[W.map(t=>e.jsxs("button",{onClick:()=>i({...s,logoUrl:t.url}),className:`p-3 rounded-[25px] border-2 transition-all flex flex-col items-center gap-3 group ${s.logoUrl===t.url?"border-blue-500 bg-blue-50 shadow-md ring-4 ring-blue-500/5":"border-slate-50 hover:border-slate-200 bg-slate-50/50"}`,children:[e.jsx("img",{src:t.url,className:"h-8 w-8 object-contain transition-transform group-hover:scale-110",alt:t.label}),e.jsx("span",{className:`text-[8px] font-black uppercase tracking-tighter ${s.logoUrl===t.url?"text-blue-700":"text-slate-400"}`,children:t.label})]},t.id)),e.jsxs("button",{onClick:C,className:`p-3 rounded-[25px] border-2 transition-all flex flex-col items-center justify-center gap-2 ${s.logoUrl?"border-slate-50 hover:border-rose-100 bg-slate-50/50":"border-rose-200 bg-rose-50"}`,children:[e.jsx(v,{size:14,className:"text-rose-500"}),e.jsx("span",{className:"text-[7px] font-black text-rose-600 uppercase",children:"Verwijder"})]})]})]}),m.length>0&&e.jsxs("div",{className:"space-y-4 pt-6 border-t border-slate-100",children:[e.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase ml-2 block italic",children:["Mijn GeÃ¼ploade Logo's (",m.length,")"]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:m.map(t=>e.jsxs("div",{className:`relative p-3 rounded-[25px] border-2 transition-all flex flex-col items-center gap-3 group ${s.logoUrl===t.url?"border-emerald-500 bg-emerald-50 shadow-md ring-4 ring-emerald-500/5":"border-slate-50 hover:border-slate-200 bg-slate-50/50"}`,children:[e.jsx("button",{onClick:()=>P(t.id),className:"absolute -top-2 -right-2 p-1.5 bg-rose-500 text-white rounded-full shadow-lg hover:bg-rose-600 transition-all z-10 opacity-0 group-hover:opacity-100",title:"Verwijderen",children:e.jsx(v,{size:12})}),e.jsxs("button",{onClick:()=>i({...s,logoUrl:t.url}),className:"w-full flex flex-col items-center gap-2",children:[e.jsx("img",{src:t.url,className:"h-10 w-10 object-contain transition-transform group-hover:scale-110",alt:t.fileName}),e.jsx("span",{className:"text-[7px] font-black text-slate-400 uppercase mt-1 block truncate w-full text-center",children:t.fileName||"Logo"})]})]},t.id))})]})]}),e.jsxs("div",{className:"space-y-4 pt-6 border-t border-slate-100",children:[e.jsxs("h3",{className:"text-xs font-black uppercase text-slate-400 tracking-[0.2em] flex items-center gap-3 italic",children:[e.jsx(O,{size:16,className:"text-purple-500"})," AI Kennisbank (System Prompt)"]}),e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{value:h,onChange:t=>y(t.target.value),className:"w-full h-64 p-5 bg-slate-50 border-2 border-slate-100 rounded-2xl font-mono text-xs text-slate-600 outline-none focus:border-purple-500 transition-all resize-y",placeholder:"Plak hier de volledige context en instructies voor de AI..."}),e.jsxs("div",{className:"absolute bottom-4 right-4 text-[9px] font-bold text-slate-400 bg-white px-2 py-1 rounded border border-slate-200",children:[h.length," karakters"]})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsx("button",{onClick:k,disabled:d,className:"w-full bg-blue-600 text-white p-5 rounded-2xl font-black uppercase text-sm hover:bg-blue-700 transition-all shadow-lg hover:shadow-xl active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3",children:d?e.jsxs(e.Fragment,{children:[e.jsx(j,{size:18,className:"animate-spin"}),"Opslaan..."]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{size:18}),"Wijzigingen Opslaan"]})})})]}),x&&e.jsxs("div",{className:`p-6 rounded-[30px] border-2 flex items-center gap-4 animate-in slide-in-from-bottom-4 shadow-xl ${x.type==="success"?"bg-emerald-50 border-emerald-100 text-emerald-700":"bg-rose-50 border-rose-100 text-rose-700"}`,children:[x.type==="success"?e.jsx(I,{size:24}):e.jsx(B,{size:24}),e.jsx("p",{className:"font-black uppercase text-xs tracking-widest",children:x.msg})]}),e.jsxs("div",{className:"bg-slate-900 p-10 rounded-[50px] text-white/50 text-[10px] font-black uppercase tracking-[0.2em] flex flex-col md:flex-row items-center gap-8 relative overflow-hidden border border-white/5",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 rotate-12",children:e.jsx(G,{size:150})}),e.jsx("div",{className:"p-4 bg-blue-600 rounded-3xl shadow-lg text-white shrink-0",children:e.jsx(z,{size:32})}),e.jsxs("div",{className:"text-left flex-1 relative z-10 leading-relaxed",children:[e.jsx("h4",{className:"text-white text-sm mb-2 italic tracking-tight uppercase leading-none",children:"Global Systeem Protocol"}),"Deze instellingen worden direct gesynchroniseerd met alle actieve terminals en werkstations. Wijzigingen in branding zijn binnen 1 seconde zichtbaar voor alle ingelogde gebruikers via de",e.jsx("span",{className:"text-blue-400 italic",children:" Secure Root Node"}),"."]})]})]})};export{le as default};
