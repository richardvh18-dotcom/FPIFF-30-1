import{c as F,d as C,e as T,j as e,l as _,k as U,S as E,s as K,O as W,C as R,P as O,q as $,Q as Z,L as D,f as H,T as Y,b as q,D as B,n as J,Z as A,J as Q,V as X}from"./index-DNbqce-j.js";import{r as u}from"./react-vendor-CkwvfVK2.js";import{l as I,B as ee,y as G,s as S,k as se,j as te,t as ae}from"./firebase-DdpHYWNd.js";import{V as m,D as le,A as ie,P as re}from"./constants-CTjDY--F.js";import{A as M}from"./alert-octagon-CsnuCDni.js";import{P as ne}from"./pen-CXo9LxCq.js";import{T as ce}from"./trash-2-CmT6fCSF.js";import{H as oe}from"./users-BzjIxhpA.js";import{B as de}from"./book-open-Dw5UZXUq.js";import{P as xe}from"./plus-fTGSighL.js";/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=F("FilePen",[["path",{d:"M4 13.5V4a2 2 0 0 1 2-2h8.5L20 7.5V20a2 2 0 0 1-2 2h-5.5",key:"1bg6eb"}],["path",{d:"M14 2v6h6",key:"1kof46"}],["path",{d:"M10.4 12.6a2 2 0 0 1 3 3L8 21l-4 1 1-4Z",key:"hnx206"}]]),me=async l=>{const r={...l,createdAt:S(),lastUpdated:S()};return(await se(te(T,...C.PRODUCTS),r)).id},ue=async(l,r)=>{const p=I(T,...C.PRODUCTS,l);await G(p,{...r,lastUpdated:S()})},he=async l=>{const r=I(T,...C.PRODUCTS,l);await ee(r)},be=async(l,r,p)=>{if(p.lastModifiedBy===(r==null?void 0:r.uid))return{success:!1,message:"Vier-ogen principe: Je mag je eigen wijzigingen niet verifiëren."};const c=I(T,...C.PRODUCTS,l);return await G(c,{verificationStatus:m.VERIFIED,verifiedBy:{uid:r.uid,name:r.displayName||r.name,timestamp:S()},active:!0,lastUpdated:S()}),{success:!0}},fe=({status:l,verifiedBy:r})=>{const p={[m.CONCEPT]:{bg:"bg-slate-50 text-slate-400 border-slate-200",label:"Concept",icon:e.jsx(pe,{size:12}),subText:"In bewerking"},[m.PENDING]:{bg:"bg-orange-50 text-orange-600 border-orange-200 animate-pulse",label:"Te Verifiëren",icon:e.jsx(M,{size:12}),subText:"Actie vereist"},[m.VERIFIED]:{bg:"bg-emerald-50 text-emerald-700 border-emerald-200",label:"Geverifieerd",icon:e.jsx(E,{size:12}),subText:r!=null&&r.name?`Door: ${r.name}`:"Goedgekeurd"},[m.REJECTED]:{bg:"bg-rose-50 text-rose-700 border-rose-200",label:"Afgekeurd",icon:e.jsx(U,{size:12}),subText:"Aanpassen"}},c=l||m.CONCEPT,h=p[c]||p[m.CONCEPT];return e.jsxs("div",{className:"flex flex-col items-start gap-1.5 select-none",children:[e.jsxs("div",{className:`
        flex items-center gap-2 px-3 py-1 rounded-lg border shadow-sm
        text-[10px] font-black uppercase tracking-widest italic
        transition-all duration-300 ${h.bg}
      `,children:[h.icon,h.label]}),e.jsxs("div",{className:"flex items-center gap-1.5 ml-1",children:[e.jsx("span",{className:`
          text-[9px] font-bold uppercase tracking-tighter italic
          ${c===m.PENDING?"text-orange-500":"text-slate-400"}
        `,children:h.subText}),c===m.VERIFIED&&e.jsx(_,{size:10,className:"text-emerald-500"})]})]})},ge=({products:l=[],onDelete:r,onEdit:p,user:c})=>{const[h,b]=u.useState(null),[v,w]=u.useState(""),[y,s]=u.useState("All"),[f,P]=u.useState({"⚠️ Te Verifiëren":!0}),j=u.useMemo(()=>{if(!l)return[];const t=v.toLowerCase();return l.filter(n=>{var i,z,L,V;const g=((i=n.name)==null?void 0:i.toLowerCase().includes(t))||((z=n.displayId)==null?void 0:z.toLowerCase().includes(t))||((L=n.articleCode)==null?void 0:L.toLowerCase().includes(t))||((V=n.extraCode)==null?void 0:V.toLowerCase().includes(t)),x=y==="All"||n.type===y;return g&&x})},[l,v,y]),k=u.useMemo(()=>{const t={},n="⚠️ Te Verifiëren";j.forEach(x=>{let i=x.type||"Overige";x.verificationStatus===m.PENDING&&(i=n),t[i]||(t[i]=[]),t[i].push(x)});const g=Object.keys(t).sort((x,i)=>x===n?-1:i===n?1:x.localeCompare(i));return{groups:t,sortedKeys:g,PENDING_KEY:n}},[j]),a=t=>{P(n=>({...n,[t]:!n[t]}))},o=async t=>{if(c){b(t.id);try{const n=await be(t.id,c,t);n.success||alert(n.message)}catch(n){console.error("Verificatie fout:",n)}finally{b(null)}}},d=t=>!(t.verificationStatus!==m.PENDING||t.lastModifiedBy===(c==null?void 0:c.uid)),N=u.useMemo(()=>["All",...new Set(l.map(t=>t.type))].sort(),[l]);return e.jsxs("div",{className:"h-full flex flex-col animate-in fade-in duration-500 text-left",children:[e.jsxs("div",{className:"mb-8 flex flex-col lg:flex-row justify-between items-stretch gap-4 bg-white p-6 rounded-[32px] border border-slate-200 shadow-sm",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx(K,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-blue-500 transition-colors",size:20}),e.jsx("input",{type:"text",placeholder:"Zoek op ID, Type, Artikelcode of Omschrijving...",className:"w-full pl-14 pr-6 py-4 bg-slate-50 border-2 border-slate-100 rounded-[22px] outline-none focus:border-blue-500 focus:bg-white transition-all font-bold text-sm shadow-inner placeholder:text-slate-300",value:v,onChange:t=>w(t.target.value)})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(W,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:16}),e.jsx("select",{className:"pl-10 pr-10 py-4 bg-white border-2 border-slate-100 rounded-[22px] text-xs font-black uppercase tracking-widest outline-none focus:border-blue-500 appearance-none cursor-pointer min-w-[180px] shadow-sm",value:y,onChange:t=>s(t.target.value),children:N.map(t=>e.jsx("option",{value:t,children:t==="All"?"Alle Types":t},t))}),e.jsx(R,{size:14,className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]}),e.jsxs("div",{className:"hidden xl:flex items-center px-6 bg-slate-900 rounded-[22px] text-white gap-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[8px] font-black text-blue-400 uppercase tracking-widest",children:"Totaal Items"}),e.jsx("span",{className:"text-sm font-black italic",children:l.length})]}),e.jsx("div",{className:"w-px h-6 bg-white/10"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[8px] font-black text-orange-400 uppercase tracking-widest",children:"Te Valideren"}),e.jsx("span",{className:"text-sm font-black italic",children:l.filter(t=>t.verificationStatus===m.PENDING).length})]})]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto space-y-6 custom-scrollbar pb-32",children:k.sortedKeys.length===0?e.jsxs("div",{className:"p-20 text-center flex flex-col items-center justify-center bg-white rounded-[40px] border-2 border-dashed border-slate-100 opacity-50",children:[e.jsx(O,{size:64,className:"text-slate-200 mb-4"}),e.jsx("p",{className:"text-sm font-black uppercase tracking-[0.2em] text-slate-400 italic",children:"Geen producten gevonden die voldoen aan de criteria"})]}):k.sortedKeys.map(t=>{const n=t===k.PENDING_KEY,g=k.groups[t],x=f[t];return e.jsxs("div",{className:`bg-white rounded-[35px] border-2 transition-all duration-500 overflow-hidden ${n?"border-orange-100 shadow-xl shadow-orange-900/5 ring-4 ring-orange-500/5":"border-slate-50 shadow-sm"}`,children:[e.jsxs("button",{onClick:()=>a(t),className:`w-full flex items-center justify-between p-6 text-left transition-all ${x?"bg-slate-50/50 border-b border-slate-50":"hover:bg-slate-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-2.5 rounded-xl transition-colors ${n?"bg-orange-500 text-white shadow-lg":"bg-slate-900 text-white"}`,children:n?e.jsx(M,{size:18}):e.jsx($,{size:18})}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-black uppercase italic tracking-tighter text-base leading-none ${n?"text-orange-700":"text-slate-800"}`,children:t}),e.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-1",children:[g.length," Producten in deze categorie"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[n&&e.jsxs("span",{className:"hidden sm:flex items-center gap-2 px-4 py-1.5 bg-orange-100 text-orange-600 rounded-full text-[9px] font-black uppercase tracking-widest animate-pulse border border-orange-200",children:[e.jsx(E,{size:12})," Quality Control Required"]}),e.jsx("div",{className:`p-2 rounded-full bg-slate-100 text-slate-400 transition-transform duration-300 ${x?"rotate-180":""}`,children:e.jsx(R,{size:20})})]})]}),x&&e.jsx("div",{className:"overflow-x-auto animate-in slide-in-from-top-2 duration-300",children:e.jsxs("table",{className:"w-full text-left text-xs border-collapse",children:[e.jsx("thead",{className:"bg-slate-50/50 border-b border-slate-50 font-black text-slate-400 uppercase tracking-[0.2em]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-8 py-4 w-1/4",children:"Identificatie"}),e.jsx("th",{className:"px-8 py-4",children:"Status & Integriteit"}),e.jsx("th",{className:"px-8 py-4",children:"Configuratie"}),e.jsx("th",{className:"px-8 py-4",children:"Verbinding"}),e.jsx("th",{className:"px-8 py-4 text-right",children:"Beheer"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:g.map(i=>e.jsxs("tr",{className:"hover:bg-blue-50/30 transition-all group border-l-4 border-l-transparent hover:border-l-blue-500",children:[e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-black text-slate-900 text-base italic tracking-tighter leading-none mb-1.5",children:i.displayId||i.name||i.id}),i.articleCode&&e.jsxs("div",{className:"flex items-center gap-1.5 text-[9px] font-mono font-bold text-slate-400 uppercase",children:[e.jsx(Z,{size:10})," ",i.articleCode]})]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsx(fe,{status:i.verificationStatus,verifiedBy:i.verifiedBy})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center gap-2 font-mono font-bold text-slate-600",children:[e.jsxs("span",{className:"bg-slate-100 px-2 py-1 rounded text-slate-800 italic",children:["DN ",i.dn||i.diameter]}),e.jsx("span",{className:"text-slate-300",children:"/"}),e.jsxs("span",{className:"bg-blue-50 px-2 py-1 rounded text-blue-700 italic",children:["PN ",i.pn||i.pressure||"-"]})]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsx("span",{className:"px-3 py-1.5 bg-slate-900 text-white rounded-lg text-[10px] font-black uppercase italic tracking-widest shadow-sm",children:i.couplingType||i.connection||"Standard"})}),e.jsx("td",{className:"px-8 py-5 text-right",children:e.jsxs("div",{className:"flex justify-end items-center gap-2 opacity-0 group-hover:opacity-100 transition-all",children:[d(i)&&e.jsxs("button",{onClick:()=>o(i),disabled:h===i.id,className:"bg-emerald-600 text-white px-5 py-2.5 rounded-xl font-black uppercase text-[10px] tracking-widest flex items-center gap-2 hover:bg-emerald-700 shadow-lg shadow-emerald-100 transition-all active:scale-95 disabled:opacity-50",children:[h===i.id?e.jsx(D,{size:14,className:"animate-spin"}):e.jsx(H,{size:14}),"Verifiëren"]}),e.jsx("button",{onClick:()=>p&&p(i),className:"p-3 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-all",title:"Bewerken",children:e.jsx(ne,{size:18})}),e.jsx("button",{onClick:()=>r(i.id),className:"p-3 text-slate-300 hover:text-rose-600 hover:bg-rose-50 rounded-xl transition-all",title:"Verwijderen uit root",children:e.jsx(ce,{size:18})})]})})]},i.id))})]})})]},t)})}),e.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-10 w-full max-w-2xl px-6 pointer-events-none",children:e.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-md p-4 rounded-[25px] border border-white/10 shadow-2xl flex items-center justify-between text-white overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 rotate-12",children:e.jsx(E,{size:60})}),e.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[e.jsx("div",{className:"p-2 bg-blue-600 rounded-xl shadow-lg",children:e.jsx(oe,{size:16})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-blue-400 leading-none mb-1",children:"Audit Protocol V6"}),e.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-tighter italic leading-none",children:"Catalogus Live vanuit: /future-factory/production/products"})]})]}),e.jsx("div",{className:"text-right relative z-10 pr-2",children:e.jsxs("span",{className:"text-[10px] font-black text-emerald-400 uppercase tracking-widest",children:[j.length," Items"]})})]})})]})},je=l=>{if(!l)return[];const r=le[l];return r&&Array.isArray(r)?r:["L","Weight","Note"]},Ne=({initialData:l,onSubmit:r,onCancel:p,user:c})=>{const{loading:h,productRange:b,generalConfig:v}=Y(c),[w,y]=u.useState(!1),[s,f]=u.useState({name:"",displayId:"",type:"Elbow",label:"Wavistrong Standard",connection:"CB/CB",dn:"",dn2:"",pn:"",articleCode:"",extraCode:"",specs:{},bellSpecs:{},imageUrl:"",sourcePdfs:[],verificationStatus:m.PENDING});u.useEffect(()=>{l&&f({...s,...l,specs:l.specs||{},bellSpecs:l.bellSpecs||{},sourcePdfs:l.sourcePdfs||[]})},[l]),u.useEffect(()=>{var x,i;const a=s.type,o=s.dn?`DN${s.dn}`:"",d=s.dn2?`x${s.dn2}`:"",N=s.pn?`PN${s.pn}`:"",t=((x=s.specs)==null?void 0:x.alpha)||((i=s.specs)==null?void 0:i.angle)||"",n=t?`${t}°`:"",g=`${a} ${n} ${o}${d} ${N}`.replace(/\s+/g," ").trim();f(z=>({...z,name:g,displayId:z.displayId||g}))},[s.type,s.dn,s.dn2,s.pn,s.specs]);const P=u.useMemo(()=>{var d;const a=((d=s.connection)==null?void 0:d.split("/")[0])||"CB",o=b==null?void 0:b[a];return o?Object.keys(o).map(Number).sort((N,t)=>N-t):[]},[b,s.connection]),j=u.useMemo(()=>{var t,n;const a=((t=s.connection)==null?void 0:t.split("/")[0])||"CB",o=String(s.pn),d=s.type,N=(n=b==null?void 0:b[a])==null?void 0:n[o];return N?(N[d]||N.Algemeen||[]).sort((g,x)=>g-x):[]},[b,s.connection,s.pn,s.type]),k=async a=>{if(a.preventDefault(),!s.name||!s.dn||!s.pn){alert("Vul tenminste Naam, DN en PN in.");return}y(!0);try{const o=(l==null?void 0:l.id)||`${s.type}_ID${s.dn}_${Date.now()}`.replace(/[^a-zA-Z0-9]/g,"_"),d=I(T,...C.PRODUCTS,o),t=(c==null?void 0:c.role)==="admin"?m.VERIFIED:m.PENDING;await ae(d,{...s,id:o,lastUpdated:S(),lastModifiedBy:(c==null?void 0:c.uid)||"system",verificationStatus:l?m.PENDING:t,active:!0},{merge:!0}),r&&r()}catch(o){console.error("Save failed:",o),alert("Fout bij opslaan: "+o.message)}finally{y(!1)}};return h?e.jsxs("div",{className:"flex flex-col items-center justify-center p-20 gap-4",children:[e.jsx(D,{className:"animate-spin text-blue-600",size:48}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 italic",children:"Configurator initialiseren..."})]}):e.jsxs("div",{className:"flex flex-col h-full bg-slate-50 text-left overflow-hidden",children:[e.jsxs("div",{className:"bg-white border-b border-slate-200 p-8 flex justify-between items-center shrink-0 shadow-sm z-10",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"p-4 bg-blue-600 text-white rounded-3xl shadow-xl shadow-blue-100",children:e.jsx(q,{size:28})}),e.jsxs("div",{className:"text-left",children:[e.jsxs("h2",{className:"text-3xl font-black text-slate-900 uppercase italic tracking-tighter leading-none",children:["Product ",e.jsx("span",{className:"text-blue-600",children:"Architect"})]}),e.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-2 flex items-center gap-2",children:[e.jsx(B,{size:12,className:"text-emerald-500"})," Root Sync: /",C.PRODUCTS.join("/")]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:p,className:"px-6 py-3 text-slate-400 hover:text-slate-600 font-black uppercase text-[10px] tracking-widest transition-all",children:"Annuleren"}),e.jsxs("button",{onClick:k,disabled:w,className:"bg-slate-900 text-white px-10 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] shadow-xl hover:bg-blue-600 transition-all flex items-center gap-3 disabled:opacity-50 active:scale-95",children:[w?e.jsx(D,{className:"animate-spin",size:18}):e.jsx(J,{size:18}),"Publiceren naar Hub"]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:e.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-10 pb-32",children:[e.jsxs("div",{className:"lg:col-span-7 space-y-10",children:[e.jsxs("div",{className:"bg-white p-10 rounded-[45px] border border-slate-200 shadow-sm space-y-8",children:[e.jsxs("h3",{className:"text-xs font-black uppercase text-slate-400 tracking-[0.2em] flex items-center gap-3 italic",children:[e.jsx(de,{size:16,className:"text-blue-500"})," Basis Identificatie"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-2",children:"Gegenereerde Systeemnaam"}),e.jsx("input",{readOnly:!0,className:"w-full p-5 bg-slate-50 border-2 border-slate-100 rounded-[22px] font-black text-xl text-slate-900 italic tracking-tighter shadow-inner",value:s.name})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-2",children:"Product Type"}),e.jsx("select",{className:"w-full p-4 bg-white border-2 border-slate-100 rounded-2xl font-bold outline-none focus:border-blue-500 transition-all cursor-pointer",value:s.type,onChange:a=>f({...s,type:a.target.value}),children:ie.map(a=>e.jsx("option",{value:a,children:a},a))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-2",children:"Artikelgroep / Label"}),e.jsx("select",{className:"w-full p-4 bg-white border-2 border-slate-100 rounded-2xl font-bold outline-none focus:border-blue-500 transition-all cursor-pointer",value:s.label,onChange:a=>f({...s,label:a.target.value}),children:re.map(a=>e.jsx("option",{value:a,children:a},a))})]})]})]})]}),e.jsxs("div",{className:"bg-white p-10 rounded-[45px] border border-slate-200 shadow-sm space-y-8 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 rotate-12",children:e.jsx(A,{size:120})}),e.jsxs("h3",{className:"text-xs font-black uppercase text-slate-400 tracking-[0.2em] flex items-center gap-3 italic relative z-10",children:[e.jsx(Q,{size:16,className:"text-blue-500"})," Technische Matrix"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 relative z-10",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-2",children:"Drukklasse (PN)"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:P.map(a=>e.jsxs("button",{type:"button",onClick:()=>f({...s,pn:a,dn:""}),className:`py-3 rounded-xl text-[10px] font-black border-2 transition-all ${s.pn===a?"bg-blue-600 border-blue-500 text-white shadow-lg shadow-blue-100":"bg-slate-50 border-slate-100 text-slate-400 hover:border-blue-200"}`,children:["PN",a]},a))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-2",children:"Binnendiameter (ID)"}),e.jsxs("select",{className:"w-full p-4 bg-white border-2 border-slate-100 rounded-2xl font-black italic outline-none focus:border-blue-500 transition-all text-blue-600",value:s.dn,onChange:a=>f({...s,dn:a.target.value}),disabled:!s.pn,children:[e.jsx("option",{value:"",children:"- Kies ID -"}),j.map(a=>e.jsxs("option",{value:a,children:["ID ",a," mm"]},a))]}),!s.pn&&e.jsx("p",{className:"text-[9px] text-amber-500 font-bold uppercase tracking-tighter mt-2 ml-1",children:"Selecteer eerst een PN klasse"})]})]}),e.jsxs("div",{className:"bg-slate-50 p-6 rounded-[30px] border border-slate-100 flex flex-col justify-center gap-4 shadow-inner",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ShieldCheck,{size:18,className:"text-emerald-500"}),e.jsx("span",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest leading-none",children:"Matrix Validation Active"})]}),e.jsx("p",{className:"text-[10px] font-medium text-slate-400 leading-relaxed italic",children:"De beschikbare diameters zijn beperkt tot de waarden die zijn geactiveerd in de Master Matrix voor de gekozen drukklasse."})]})]})]})]}),e.jsxs("div",{className:"lg:col-span-5 space-y-10",children:[e.jsxs("div",{className:"bg-slate-900 p-8 rounded-[40px] shadow-2xl text-white space-y-6",children:[e.jsxs("h3",{className:"text-[10px] font-black uppercase text-blue-400 tracking-[0.2em] flex items-center gap-3 italic",children:[e.jsx(Hash,{size:16})," Systeem Koppeling"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1.5 text-left",children:[e.jsx("label",{className:"text-[8px] font-black text-slate-500 uppercase ml-2",children:"Infor-LN Artikelcode"}),e.jsx("input",{className:"w-full p-4 bg-white/5 border border-white/10 rounded-xl font-mono text-xs font-bold text-white focus:border-blue-500 outline-none transition-all",value:s.articleCode,onChange:a=>f({...s,articleCode:a.target.value}),placeholder:"Bijv: 10023456"})]}),e.jsxs("div",{className:"space-y-1.5 text-left",children:[e.jsx("label",{className:"text-[8px] font-black text-slate-500 uppercase ml-2",children:"Productie Extra Code"}),e.jsx("input",{className:"w-full p-4 bg-white/5 border border-white/10 rounded-xl font-mono text-xs font-bold text-white focus:border-blue-500 outline-none transition-all",value:s.extraCode,onChange:a=>f({...s,extraCode:a.target.value}),placeholder:"Bijv: A1S1"})]})]})]}),e.jsxs("div",{className:"bg-white p-8 rounded-[40px] border border-slate-200 shadow-sm space-y-6",children:[e.jsxs("h3",{className:"text-xs font-black uppercase text-slate-400 tracking-[0.2em] flex items-center gap-3 italic",children:[e.jsx($,{size:16,className:"text-blue-500"})," Afmetingen"]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:je(s.type).map(a=>{var o;return e.jsxs("div",{className:"space-y-1 text-left",children:[e.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-1",children:a}),e.jsx("input",{className:"w-full p-3 bg-slate-50 border border-slate-100 rounded-xl font-bold text-sm text-slate-800 focus:border-blue-500 outline-none transition-all text-center",value:((o=s.specs)==null?void 0:o[a])||"",onChange:d=>f({...s,specs:{...s.specs,[a]:d.target.value}})})]},a)})})]}),e.jsxs("div",{className:"p-8 bg-blue-50 rounded-[35px] border border-blue-100 flex items-start gap-4",children:[e.jsx(Info,{size:20,className:"text-blue-500 shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-[10px] font-bold text-blue-700/70 leading-relaxed uppercase tracking-wider italic",children:["Nieuwe of gewijzigde producten krijgen automatisch de status"," ",e.jsx("span",{className:"text-orange-600 font-black",children:"'PENDING'"}),". Ze moeten door een tweede geautoriseerde gebruiker worden geverifieerd voordat ze definitief worden vrijgegeven voor productie."]})]})]})]})})]})},Ie=({user:l})=>{const[r,p]=u.useState("list"),[c,h]=u.useState(null),[b,v]=u.useState(!1),{products:w,loading:y,refresh:s}=X(l),f=()=>{h(null),p("form")},P=o=>{h(o),p("form")},j=()=>{h(null),p("list")},k=async o=>{if(window.confirm("Weet je zeker dat je dit product wilt verwijderen uit de root database?")){v(!0);try{await he(o),s&&await s()}catch(d){console.error("Delete Error:",d),alert("Verwijderen mislukt: "+d.message)}finally{v(!1)}}},a=async o=>{v(!0);try{c&&c.id?await ue(c.id,o):await me(o),j(),s&&await s()}catch(d){console.error("Save Error:",d),alert("Opslaan mislukt: "+d.message)}finally{v(!1)}};return e.jsxs("div",{className:"h-full flex flex-col relative bg-slate-50 text-left animate-in fade-in duration-500",children:[e.jsxs("div",{className:"bg-white border-b border-slate-200 p-8 flex flex-col md:flex-row justify-between items-center shrink-0 shadow-sm gap-6 relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"p-4 bg-blue-600 text-white rounded-[20px] shadow-lg shadow-blue-200",children:e.jsx(O,{size:28})}),e.jsxs("div",{className:"text-left",children:[e.jsxs("h1",{className:"text-3xl font-black text-slate-900 uppercase italic tracking-tighter leading-none",children:["Product ",e.jsx("span",{className:"text-blue-600",children:"Manager"})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[e.jsxs("span",{className:"flex items-center gap-1.5 text-[9px] font-black text-emerald-600 bg-emerald-50 px-2.5 py-0.5 rounded border border-emerald-100 uppercase italic",children:[e.jsx(E,{size:10})," Root Authorized"]}),e.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:"Systeem Catalogus v6.4"})]})]})]}),e.jsxs("button",{onClick:f,className:"bg-slate-900 text-white px-10 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] shadow-xl hover:bg-blue-600 transition-all active:scale-95 flex items-center gap-3",children:[e.jsx(xe,{size:18,strokeWidth:3})," Nieuw Product Toevoegen"]})]}),e.jsxs("div",{className:"flex-1 overflow-hidden relative p-8 bg-slate-50/50",children:[b&&e.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-slate-950/20 backdrop-blur-[2px] animate-in fade-in",children:e.jsxs("div",{className:"bg-white p-8 rounded-[30px] shadow-2xl flex flex-col items-center gap-4",children:[e.jsx(D,{className:"animate-spin text-blue-600",size:40}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 italic",children:"Database Bijwerken..."})]})}),e.jsx("div",{className:"h-full bg-white rounded-[40px] border border-slate-200 shadow-sm overflow-hidden relative",children:y&&!(w!=null&&w.length)?e.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center bg-white gap-4",children:[e.jsx(D,{className:"animate-spin text-blue-600",size:48}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-300 italic",children:"Catalogus Laden..."})]}):e.jsx(ge,{products:w,onEdit:P,onDelete:k,user:l})})]}),r==="form"&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-0 md:p-6 animate-in fade-in duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-950/60 backdrop-blur-md transition-opacity",onClick:j}),e.jsxs("div",{className:"relative w-full h-full md:w-[96vw] md:h-[92vh] lg:max-w-screen-2xl bg-slate-50 md:rounded-[45px] shadow-[0_40px_100px_rgba(0,0,0,0.4)] overflow-hidden flex flex-col animate-in zoom-in-95 duration-500 border border-white/10",children:[e.jsxs("div",{className:"bg-white border-b border-slate-200 px-8 py-4 flex justify-between items-center shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg",children:e.jsx(A,{size:16})}),e.jsx("h3",{className:"text-sm font-black uppercase italic text-slate-800 tracking-tight",children:c?"Product Specificaties Wijzigen":"Nieuwe Configuratie Registreren"})]}),e.jsx("button",{onClick:j,className:"p-3 hover:bg-slate-100 rounded-2xl transition-all text-slate-400 hover:text-slate-900",children:e.jsx(ve,{size:24})})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(Ne,{initialData:c,onSubmit:a,onCancel:j,user:l})}),e.jsx("div",{className:"h-4 bg-blue-600 w-full shrink-0"})]})]}),e.jsxs("div",{className:"bg-slate-950 p-4 border-t border-white/5 flex justify-between items-center text-[10px] font-black text-slate-500 uppercase tracking-[0.4em] px-10 shrink-0 relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(B,{size:14,className:"text-blue-500"})," Storage: Cloud Root"]}),e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(A,{size:14,className:"text-emerald-500"})," Active Sync: Realtime"]})]}),e.jsx("span",{className:"opacity-30",children:"Future Factory MES Core v6.11"})]})]})},ve=({size:l,className:r})=>e.jsxs("svg",{width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:r,children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]});export{Ie as default};
