import{c as O,u as P,d as u,e as b,j as e,M as f,f as S,E as $,b as q,L as j}from"./index-DNbqce-j.js";import{r as n}from"./react-vendor-CkwvfVK2.js";import{j as G,q as L,x as H,o as U,k as V,s as z,B as K,l as A,t as J}from"./firebase-DdpHYWNd.js";import{U as C}from"./users-BzjIxhpA.js";import{B as v}from"./AdminDashboard-BkhDkzix.js";import{P as Q}from"./plus-fTGSighL.js";import{S as W}from"./square-pen-D8PjMHhY.js";import{T as X}from"./trash-2-CmT6fCSF.js";import{A as Y}from"./archive-BkrLDP6Y.js";import"./arrow-left-CeHKlJCF.js";import"./clock-yngyoSLs.js";import"./book-open-Dw5UZXUq.js";/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=O("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),pe=()=>{const{user:r}=P(),[d,M]=n.useState("groups"),[N,E]=n.useState([]),[B,y]=n.useState(!0),[x,i]=n.useState(!1),[m,l]=n.useState(null),[w,g]=n.useState(!1),[t,p]=n.useState({name:"",description:"",members:[],color:"bg-blue-500"}),[_,ee]=n.useState(null),[a,o]=n.useState({maxMessageSize:5e3,enableGroupMessages:!0,enableSystemNotifications:!0,defaultRetentionDays:30,enableEmailNotifications:!1});n.useEffect(()=>{const s=G(b,...u.MESSAGES,"config","groups"),c=L(s,H("createdAt","desc")),R=U(c,h=>{E(h.docs.map(k=>({id:k.id,...k.data()}))),y(!1)},h=>{console.error("Fout bij laden groepen:",h),y(!1)});return()=>R()},[]);const F=async s=>{if(s.preventDefault(),!t.name.trim()){l({type:"error",msg:"Groepnaam is verplicht"});return}i(!0);try{await V(G(b,...u.MESSAGES,"config","groups"),{name:t.name,description:t.description,color:t.color,members:t.members||[],createdAt:z(),createdBy:(r==null?void 0:r.email)||"Admin"}),p({name:"",description:"",members:[],color:"bg-blue-500"}),g(!1),l({type:"success",msg:"âœ… Groep aangemaakt!"}),setTimeout(()=>l(null),3e3)}catch(c){console.error("Fout bij aanmaken groep:",c),l({type:"error",msg:"âŒ Fout bij aanmaken groep"})}finally{i(!1)}},T=async s=>{if(window.confirm("Groep verwijderen? Dit kan niet ongedaan gemaakt worden.")){i(!0);try{await K(A(b,...u.MESSAGES,"config","groups",s)),l({type:"success",msg:"âœ… Groep verwijderd"}),setTimeout(()=>l(null),3e3)}catch(c){console.error("Fout bij verwijderen groep:",c),l({type:"error",msg:"âŒ Fout bij verwijderen"})}finally{i(!1)}}},D=async()=>{i(!0);try{await J(A(b,...u.MESSAGES,"config","settings"),{...a,updatedAt:z(),updatedBy:(r==null?void 0:r.email)||"Admin"},{merge:!0}),l({type:"success",msg:"âœ… Instellingen opgeslagen!"}),setTimeout(()=>l(null),3e3)}catch(s){console.error("Fout bij opslaan instellingen:",s),l({type:"error",msg:"âŒ Fout bij opslaan"})}finally{i(!1)}},I=[{name:"Blauw",value:"bg-blue-500"},{name:"Groen",value:"bg-green-500"},{name:"Paars",value:"bg-purple-500"},{name:"Oranje",value:"bg-orange-500"},{name:"Rood",value:"bg-red-500"},{name:"Cyaan",value:"bg-cyan-500"},{name:"Fuchsia",value:"bg-fuchsia-500"}];return e.jsxs("div",{className:"space-y-6 p-6 max-w-6xl mx-auto animate-in fade-in duration-500",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-black text-slate-900 uppercase italic tracking-tighter",children:["Berichten ",e.jsx("span",{className:"text-blue-600",children:"Beheer"})]}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Groepen, instellingen & notificaties configureren"})]}),e.jsx(f,{className:"text-blue-600",size:40})]}),m&&e.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-2xl text-sm font-bold uppercase tracking-widest border ${m.type==="success"?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-rose-50 text-rose-700 border-rose-200"}`,children:[m.type==="success"?e.jsx(S,{size:18}):e.jsx($,{size:18}),m.msg]}),e.jsx("div",{className:"flex gap-2 border-b border-slate-200",children:[{id:"groups",label:"ðŸ‘¥ Groepen",icon:C},{id:"settings",label:"âš™ï¸ Instellingen",icon:q},{id:"notifications",label:"ðŸ”” Notificaties",icon:v}].map(s=>e.jsx("button",{onClick:()=>M(s.id),className:`px-4 py-3 font-bold uppercase text-xs tracking-widest transition-all border-b-2 ${d===s.id?"border-blue-600 text-blue-600":"border-transparent text-slate-600 hover:text-slate-900"}`,children:s.label},s.id))}),d==="groups"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("button",{onClick:()=>g(!w),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl font-bold text-xs uppercase tracking-widest hover:bg-blue-700 transition-all",children:[e.jsx(Q,{size:16})," Nieuwe Groep"]}),w&&e.jsxs("form",{onSubmit:F,className:"bg-white border-2 border-blue-200 rounded-2xl p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold uppercase text-slate-600 mb-2 block",children:"Groepnaam"}),e.jsx("input",{type:"text",value:t.name,onChange:s=>p({...t,name:s.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg outline-none focus:border-blue-500",placeholder:"Bijv. Marketing Team"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold uppercase text-slate-600 mb-2 block",children:"Beschrijving"}),e.jsx("textarea",{value:t.description,onChange:s=>p({...t,description:s.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg outline-none focus:border-blue-500 resize-none h-20",placeholder:"Optionele beschrijving..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold uppercase text-slate-600 mb-2 block",children:"Kleur"}),e.jsx("div",{className:"flex gap-2",children:I.map(s=>e.jsx("button",{type:"button",onClick:()=>p({...t,color:s.value}),className:`w-8 h-8 rounded-lg ${s.value} transition-transform ${t.color===s.value?"ring-2 ring-offset-2 ring-slate-900 scale-110":""}`,title:s.name},s.value))})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"submit",disabled:x,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg font-bold text-xs uppercase tracking-widest hover:bg-blue-700 disabled:opacity-50 transition-all",children:x?e.jsx(j,{className:"animate-spin",size:16}):"âœ… Aanmaken"}),e.jsx("button",{type:"button",onClick:()=>g(!1),className:"flex-1 px-4 py-2 bg-slate-200 text-slate-700 rounded-lg font-bold text-xs uppercase tracking-widest hover:bg-slate-300 transition-all",children:"Annuleren"})]})]}),B?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(j,{className:"animate-spin text-blue-500",size:32})}):N.length===0?e.jsx("div",{className:"text-center py-12 text-slate-500",children:"Geen groepen gevonden. Maak de eerste groep aan!"}):e.jsx("div",{className:"grid gap-4",children:N.map(s=>e.jsx("div",{className:"border-2 border-slate-100 rounded-2xl p-4 hover:border-slate-300 transition-all",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-4 h-4 rounded-full ${s.color} mt-1`}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-900",children:s.name}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:s.description||"Geen beschrijving"}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-[10px] text-slate-400 uppercase font-bold",children:[e.jsxs("span",{children:["ðŸ‘¥ ",(s.members||[]).length," leden"]}),s.createdBy&&e.jsxs("span",{children:["ðŸ‘¤ ",s.createdBy]})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{},className:"p-2 text-slate-600 hover:bg-blue-50 rounded-lg transition-all",title:"Bewerken",children:e.jsx(W,{size:16})}),e.jsx("button",{onClick:()=>T(s.id),className:"p-2 text-slate-600 hover:bg-rose-50 hover:text-rose-600 rounded-lg transition-all",title:"Verwijderen",children:e.jsx(X,{size:16})})]})]})},s.id))})]}),d==="settings"&&e.jsx("div",{className:"space-y-6 max-w-2xl",children:e.jsxs("div",{className:"bg-white border-2 border-slate-100 rounded-2xl p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-bold uppercase text-slate-600 mb-2 block flex items-center gap-2",children:[e.jsx(f,{size:14})," Maximale bericht grootte"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"number",value:a.maxMessageSize,onChange:s=>o({...a,maxMessageSize:parseInt(s.target.value)}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg outline-none focus:border-blue-500"}),e.jsx("span",{className:"text-sm text-slate-600",children:"karakters"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pb-4 border-b",children:[e.jsxs("label",{className:"text-xs font-bold uppercase text-slate-600 flex items-center gap-2",children:[e.jsx(C,{size:14})," Groep berichten inschakelen"]}),e.jsx("input",{type:"checkbox",checked:a.enableGroupMessages,onChange:s=>o({...a,enableGroupMessages:s.target.checked}),className:"w-5 h-5"})]}),e.jsxs("div",{className:"flex items-center justify-between pb-4 border-b",children:[e.jsxs("label",{className:"text-xs font-bold uppercase text-slate-600 flex items-center gap-2",children:[e.jsx(v,{size:14})," Systeemnotificaties"]}),e.jsx("input",{type:"checkbox",checked:a.enableSystemNotifications,onChange:s=>o({...a,enableSystemNotifications:s.target.checked}),className:"w-5 h-5"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-bold uppercase text-slate-600 mb-2 block flex items-center gap-2",children:[e.jsx(Y,{size:14})," Berichtretentie"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"number",value:a.defaultRetentionDays,onChange:s=>o({...a,defaultRetentionDays:parseInt(s.target.value)}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg outline-none focus:border-blue-500"}),e.jsx("span",{className:"text-sm text-slate-600",children:"dagen"})]}),e.jsx("p",{className:"text-[10px] text-slate-500 mt-1",children:"Berichten ouder dan dit aantal dagen worden automatisch verwijderd"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"text-xs font-bold uppercase text-slate-600 flex items-center gap-2",children:[e.jsx(f,{size:14})," E-mailnotificaties"]}),e.jsx("input",{type:"checkbox",checked:a.enableEmailNotifications,onChange:s=>o({...a,enableEmailNotifications:s.target.checked}),className:"w-5 h-5"})]}),e.jsx("button",{onClick:D,disabled:x,className:"w-full px-4 py-3 bg-blue-600 text-white rounded-xl font-bold text-xs uppercase tracking-widest hover:bg-blue-700 disabled:opacity-50 transition-all flex items-center justify-center gap-2 mt-6",children:x?e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"animate-spin",size:16})," Opslaan..."]}):e.jsxs(e.Fragment,{children:[e.jsx(S,{size:16})," Instellingen Opslaan"]})})]})}),d==="notifications"&&e.jsxs("div",{className:"bg-white border-2 border-slate-100 rounded-2xl p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[e.jsx(v,{className:"text-blue-600",size:20}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-blue-900",children:"Notificatie Instellingen"}),e.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Hier kunt u notificatie voorkeuren per gebruiker of groep instellen"})]})]}),e.jsxs("div",{className:"text-center py-12 text-slate-500",children:[e.jsx(Z,{size:32,className:"mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"font-bold",children:"Functie in uitvoering"}),e.jsx("p",{className:"text-xs",children:"Notificatie instellingen worden binnenkort beschikbaar"})]})]})]})};export{pe as default};
