import{c as J,u as xe,d as f,e as j,j as e,X as me,f as P,s as ue,O as he,k as G,P as $,ab as be}from"./index-DNbqce-j.js";import{r}from"./react-vendor-CkwvfVK2.js";import{o as C,j as S,y as V,s as K,l as U}from"./firebase-DdpHYWNd.js";import{A as I}from"./alert-triangle-BUFzzSRW.js";import{P as pe}from"./play-circle-CeaJOrWR.js";import{C as X}from"./clock-yngyoSLs.js";/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=J("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=J("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]),ke=()=>{var B;const{user:m}=xe(),[L,Y]=r.useState([]),[k,ee]=r.useState([]),[g,te]=r.useState([]),[N,se]=r.useState([]),[ae,le]=r.useState([]),[z,ie]=r.useState(""),[w,q]=r.useState("all"),[x,b]=r.useState("overview"),[re,D]=r.useState(!1),[n,O]=r.useState(null),[Q,W]=r.useState(!1),p=r.useRef(null),T=r.useRef(null),A=r.useRef(null),v=r.useRef(null),R=r.useRef(!1),M=r.useRef(!1);r.useEffect(()=>{const t="jsqr-scanner";if(document.getElementById(t))W(!0);else{const i=document.createElement("script");i.id=t,i.src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.min.js",i.async=!0,i.onload=()=>W(!0),document.head.appendChild(i)}const l=C(S(j,...f.OCCUPANCY),i=>{const a=i.docs.map(o=>({id:o.id,...o.data()}));Y(a)}),c=C(S(j,...f.PLANNING),i=>{const a=i.docs.map(o=>({id:o.id,...o.data()}));ee(a)}),s=C(S(j,...f.TRACKING),i=>{const a=i.docs.map(o=>({id:o.id,...o.data()}));le(a)}),u=C(S(j,...f.DOWNTIME),i=>{const a=i.docs.map(o=>({id:o.id,...o.data()}));te(a)}),h=C(S(j,...f.DEFECTS),i=>{const a=i.docs.map(o=>({id:o.id,...o.data()}));se(a)});return()=>{l(),c(),s(),u(),h(),E()}},[]);const y=r.useMemo(()=>L.map(t=>{const l=k.filter(a=>a.machine===t.machine),c=l.find(a=>a.status==="in_production"),s=g.filter(a=>a.machine===t.machine&&a.status==="active"),u=N.filter(a=>a.machine===t.machine&&a.status==="open"),h=s.length>0||u.length>0,i=c!==void 0;return{...t,activeOrder:c,ordersCount:l.length,downtimeCount:s.length,defectCount:u.length,hasIssues:h,isActive:i,status:h?"issue":i?"active":"idle"}}),[L,k,g,N]),_=r.useMemo(()=>{let t=y;if(w==="active"?t=t.filter(l=>l.isActive):w==="issues"&&(t=t.filter(l=>l.hasIssues)),z){const l=z.toLowerCase();t=t.filter(c=>{var s,u,h,i;return((s=c.machine)==null?void 0:s.toLowerCase().includes(l))||((u=c.operatorName)==null?void 0:u.toLowerCase().includes(l))||((i=(h=c.activeOrder)==null?void 0:h.orderId)==null?void 0:i.toLowerCase().includes(l))})}return t},[y,w,z]),d=r.useMemo(()=>({totalDowntime:g.filter(t=>t.status==="active").length,totalDefects:N.filter(t=>t.status==="open").length,machinesWithIssues:y.filter(t=>t.hasIssues).length,activeMachines:y.filter(t=>t.isActive).length}),[g,N,y]),ne=async t=>{await V(U(j,...f.DOWNTIME,t),{status:"resolved",resolvedAt:K(),resolvedBy:m==null?void 0:m.uid})},de=async t=>{await V(U(j,...f.DEFECTS,t),{status:"resolved",resolvedAt:K(),resolvedBy:m==null?void 0:m.uid})},ce=async()=>{try{const t={video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}},l=await navigator.mediaDevices.getUserMedia(t);p.current&&(p.current.srcObject=l,A.current=l,R.current=!0,p.current.setAttribute("playsinline","true"),await p.current.play(),v.current=requestAnimationFrame(F))}catch(t){console.error("Camera error:",t),alert("Kan camera niet starten. Controleer permissies."),D(!1)}},E=()=>{R.current=!1,M.current=!1,A.current&&(A.current.getTracks().forEach(t=>t.stop()),A.current=null),v.current&&(cancelAnimationFrame(v.current),v.current=null)},F=()=>{if(!R.current||!p.current||!T.current||!window.jsQR){R.current&&(v.current=requestAnimationFrame(F));return}if(M.current){v.current=requestAnimationFrame(F);return}const t=p.current;if(t.readyState===4){M.current=!0;const l=T.current,c=l.getContext("2d",{willReadFrequently:!0}),s=Math.min(t.videoWidth,t.videoHeight)*.8,u=(t.videoWidth-s)/2,h=(t.videoHeight-s)/2;l.width=s,l.height=s,c.drawImage(t,u,h,s,s,0,0,s,s);const i=c.getImageData(0,0,s,s);try{const a=window.jsQR(i.data,s,s,{inversionAttempts:"attemptBoth"});if(a&&a.data){navigator.vibrate&&navigator.vibrate(100),oe(a.data);return}}catch(a){console.error("Scan error:",a)}finally{M.current=!1}}v.current=requestAnimationFrame(F)},oe=t=>{E();const l=ae.find(s=>s.lotNumber===t||s.orderId===t||s.id===t),c=k.find(s=>s.orderId===t||s.item===t||s.id===t);O(l?{type:"product",data:l,code:t}:c?{type:"order",data:c,code:t}:{type:"unknown",code:t})},H=()=>{E(),D(!1),O(null)};return m?e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[re&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black",children:e.jsxs("div",{className:"relative h-full",children:[e.jsx("button",{onClick:H,className:"absolute top-4 right-4 z-10 p-3 bg-white rounded-full shadow-lg",children:e.jsx(me,{size:24,className:"text-slate-900"})}),n?e.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-6 bg-black/90",children:e.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-md w-full",children:[n.type==="product"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx(P,{className:"mx-auto text-emerald-500 mb-2",size:48}),e.jsx("div",{className:"text-2xl font-black text-slate-800",children:"Product Gevonden"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:"Lotnummer"}),e.jsx("div",{className:"text-lg font-bold text-slate-900",children:n.data.lotNumber})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:"Order"}),e.jsx("div",{className:"text-sm font-bold text-slate-700",children:n.data.orderId})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:"Machine"}),e.jsx("div",{className:"text-sm font-bold text-slate-700",children:n.data.machine})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:"Status"}),e.jsx("div",{className:`inline-block px-3 py-1 rounded-lg text-xs font-bold ${n.data.status==="In Production"?"bg-orange-100 text-orange-700":n.data.status==="Released"?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-700"}`,children:n.data.status})]})]})]}):n.type==="order"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx(P,{className:"mx-auto text-blue-500 mb-2",size:48}),e.jsx("div",{className:"text-2xl font-black text-slate-800",children:"Order Gevonden"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:"Order ID"}),e.jsx("div",{className:"text-lg font-bold text-slate-900",children:n.data.orderId})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:"Item"}),e.jsx("div",{className:"text-sm font-bold text-slate-700",children:n.data.item})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:"Machine"}),e.jsx("div",{className:"text-sm font-bold text-slate-700",children:n.data.machine})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:"Status"}),e.jsx("div",{className:`inline-block px-3 py-1 rounded-lg text-xs font-bold ${n.data.status==="in_production"?"bg-orange-100 text-orange-700":"bg-blue-100 text-blue-700"}`,children:n.data.status})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx(I,{className:"mx-auto text-amber-500 mb-2",size:48}),e.jsx("div",{className:"text-2xl font-black text-slate-800",children:"Niet Gevonden"})]}),e.jsxs("div",{className:"text-center text-slate-600",children:["Code ",e.jsx("span",{className:"font-mono font-bold",children:n.code})," niet gevonden in systeem."]})]}),e.jsx("button",{onClick:H,className:"w-full mt-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold transition-colors",children:"Sluiten"})]})}):e.jsxs(e.Fragment,{children:[e.jsx("video",{ref:p,className:"w-full h-full object-cover",playsInline:!0,autoPlay:!0,muted:!0}),e.jsx("canvas",{ref:T,className:"hidden"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsxs("div",{className:"relative w-72 h-72",children:[e.jsx("div",{className:"absolute inset-0 border-4 border-white/30 rounded-3xl"}),e.jsx("div",{className:"absolute inset-0 border-4 border-indigo-500 rounded-3xl animate-pulse"}),e.jsx("div",{className:"absolute -top-2 -left-2 w-16 h-16 border-t-4 border-l-4 border-indigo-400 rounded-tl-3xl"}),e.jsx("div",{className:"absolute -top-2 -right-2 w-16 h-16 border-t-4 border-r-4 border-indigo-400 rounded-tr-3xl"}),e.jsx("div",{className:"absolute -bottom-2 -left-2 w-16 h-16 border-b-4 border-l-4 border-indigo-400 rounded-bl-3xl"}),e.jsx("div",{className:"absolute -bottom-2 -right-2 w-16 h-16 border-b-4 border-r-4 border-indigo-400 rounded-br-3xl"})]})}),e.jsx("div",{className:"absolute bottom-8 left-0 right-0 text-center px-4",children:e.jsxs("div",{className:"bg-black/70 backdrop-blur-sm px-6 py-4 rounded-2xl inline-block",children:[e.jsx("div",{className:"text-white font-bold text-lg mb-1",children:"Scan QR Code"}),e.jsx("div",{className:"text-xs text-white/70",children:"Plaats de QR code in het midden van het vierkant"}),!Q&&e.jsx("div",{className:"text-xs text-amber-300 mt-2",children:"â³ Scanner wordt geladen..."})]})})]})]})}),e.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-indigo-700 p-6 shadow-lg sticky top-0 z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white text-2xl font-black",children:"Mobile Inspector"}),e.jsx("div",{className:"text-indigo-200 text-sm font-bold mt-1",children:"Werkvloer Overzicht"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{D(!0),setTimeout(()=>{Q?ce():(alert("QR Scanner wordt nog geladen, probeer opnieuw..."),D(!1))},200)},className:"p-3 bg-white/20 hover:bg-white/30 rounded-xl transition-colors",children:e.jsx(ve,{className:"text-white",size:24})}),e.jsx("div",{className:"bg-white/20 px-4 py-2 rounded-xl",children:e.jsx("div",{className:"text-white text-xs font-bold",children:((B=m==null?void 0:m.displayName)==null?void 0:B.split(" ")[0])||"Inspector"})})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[e.jsx("div",{className:"text-white/60 text-[10px] font-bold uppercase mb-1",children:"Actief"}),e.jsx("div",{className:"text-white text-2xl font-black",children:d.activeMachines})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[e.jsx("div",{className:"text-white/60 text-[10px] font-bold uppercase mb-1",children:"Stilstand"}),e.jsx("div",{className:"text-white text-2xl font-black",children:d.totalDowntime})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[e.jsx("div",{className:"text-white/60 text-[10px] font-bold uppercase mb-1",children:"Defecten"}),e.jsx("div",{className:"text-white text-2xl font-black",children:d.totalDefects})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[e.jsx("div",{className:"text-white/60 text-[10px] font-bold uppercase mb-1",children:"Issues"}),e.jsx("div",{className:"text-white text-2xl font-black",children:d.machinesWithIssues})]})]})]}),e.jsxs("div",{className:"p-4 bg-white border-b border-slate-200 space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ue,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Zoek machine, operator, order...",className:"w-full pl-10 pr-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl text-sm font-bold outline-none focus:border-indigo-500 transition-all",value:z,onChange:t=>ie(t.target.value)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>q("all"),className:`flex-1 py-2 px-4 rounded-lg text-xs font-bold transition-all ${w==="all"?"bg-indigo-600 text-white":"bg-slate-100 text-slate-600"}`,children:["Alle (",y.length,")"]}),e.jsxs("button",{onClick:()=>q("active"),className:`flex-1 py-2 px-4 rounded-lg text-xs font-bold transition-all ${w==="active"?"bg-emerald-600 text-white":"bg-slate-100 text-slate-600"}`,children:["Actief (",d.activeMachines,")"]}),e.jsxs("button",{onClick:()=>q("issues"),className:`flex-1 py-2 px-4 rounded-lg text-xs font-bold transition-all ${w==="issues"?"bg-red-600 text-white":"bg-slate-100 text-slate-600"}`,children:["Issues (",d.machinesWithIssues,")"]})]})]}),e.jsx("div",{className:"bg-white border-b border-slate-200 px-4 py-2",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>b("overview"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all ${x==="overview"?"bg-indigo-100 text-indigo-700":"text-slate-500 hover:bg-slate-50"}`,children:"Overzicht"}),e.jsxs("button",{onClick:()=>b("downtime"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all flex items-center gap-2 ${x==="downtime"?"bg-orange-100 text-orange-700":"text-slate-500 hover:bg-slate-50"}`,children:["Stilstand ",d.totalDowntime>0&&e.jsx("span",{className:"bg-orange-500 text-white text-[10px] px-2 py-0.5 rounded-full",children:d.totalDowntime})]}),e.jsxs("button",{onClick:()=>b("quality"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all flex items-center gap-2 ${x==="quality"?"bg-red-100 text-red-700":"text-slate-500 hover:bg-slate-50"}`,children:["QC ",d.totalDefects>0&&e.jsx("span",{className:"bg-red-500 text-white text-[10px] px-2 py-0.5 rounded-full",children:d.totalDefects})]}),e.jsx("button",{onClick:()=>b("orders"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all ${x==="orders"?"bg-blue-100 text-blue-700":"text-slate-500 hover:bg-slate-50"}`,children:"Orders"})]})}),e.jsxs("div",{className:"p-4 pb-24 space-y-3",children:[x==="overview"&&e.jsx(e.Fragment,{children:_.length===0?e.jsxs("div",{className:"text-center py-12 text-slate-400",children:[e.jsx(he,{size:48,className:"mx-auto mb-4 opacity-30"}),e.jsx("div",{className:"font-bold text-sm",children:"Geen machines gevonden"})]}):_.map(t=>e.jsxs("div",{className:`bg-white rounded-2xl border-2 p-4 transition-all ${t.hasIssues?"border-red-200 shadow-lg":t.isActive?"border-emerald-200":"border-slate-100"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Z,{size:16,className:"text-indigo-600"}),e.jsx("div",{className:"text-lg font-black text-slate-800",children:t.machine})]}),e.jsx("div",{className:"text-sm text-slate-600 font-bold",children:t.operatorName||"Geen operator"})]}),e.jsx("div",{className:`px-3 py-1 rounded-lg text-xs font-bold ${t.status==="issue"?"bg-red-100 text-red-700":t.status==="active"?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:t.status==="issue"?"ðŸ”´ Issue":t.status==="active"?"ðŸŸ¢ Actief":"âšª Idle"})]}),t.activeOrder&&e.jsxs("div",{className:"bg-blue-50 rounded-xl p-3 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(pe,{size:14,className:"text-blue-600"}),e.jsx("div",{className:"text-xs font-bold text-blue-900",children:"In Productie"})]}),e.jsx("div",{className:"text-sm font-black text-slate-800",children:t.activeOrder.orderId||t.activeOrder.item}),t.activeOrder.plan&&e.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:[t.activeOrder.plan," stuks"]})]}),t.hasIssues&&e.jsxs("div",{className:"space-y-2",children:[t.downtimeCount>0&&e.jsxs("div",{className:"flex items-center gap-2 text-orange-700 bg-orange-50 px-3 py-2 rounded-lg",children:[e.jsx(G,{size:16}),e.jsxs("span",{className:"text-xs font-bold",children:[t.downtimeCount," stilstand meldingen"]})]}),t.defectCount>0&&e.jsxs("div",{className:"flex items-center gap-2 text-red-700 bg-red-50 px-3 py-2 rounded-lg",children:[e.jsx(I,{size:16}),e.jsxs("span",{className:"text-xs font-bold",children:[t.defectCount," kwaliteit issues"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-3 pt-3 border-t border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-1 text-slate-600",children:[e.jsx($,{size:14}),e.jsxs("span",{className:"text-xs font-bold",children:[t.ordersCount," orders"]})]}),t.hoursPerWeek&&e.jsxs("div",{className:"flex items-center gap-1 text-slate-600",children:[e.jsx(X,{size:14}),e.jsxs("span",{className:"text-xs font-bold",children:[t.hoursPerWeek,"h/week"]})]})]})]},t.id))}),x==="downtime"&&e.jsx(e.Fragment,{children:g.filter(t=>t.status==="active").length===0?e.jsxs("div",{className:"text-center py-12 text-slate-400",children:[e.jsx(P,{size:48,className:"mx-auto mb-4 text-emerald-300"}),e.jsx("div",{className:"font-bold text-sm",children:"Geen actieve stilstand meldingen"})]}):g.filter(t=>t.status==="active").map(t=>e.jsxs("div",{className:"bg-white rounded-2xl border-2 border-orange-200 p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(G,{className:"text-orange-600",size:20}),e.jsx("div",{className:"text-lg font-black text-slate-800",children:t.machine})]}),e.jsx("div",{className:"text-sm text-slate-600 font-bold",children:t.reason})]}),e.jsxs("div",{className:"px-3 py-1 rounded-lg text-xs font-bold bg-orange-100 text-orange-700",children:[t.estimatedMinutes||"?"," min"]})]}),e.jsxs("div",{className:"text-xs text-slate-500 mb-3",children:["Gemeld door: ",t.operatorName||"Onbekend"]}),e.jsx("button",{onClick:()=>ne(t.id),className:"w-full py-2 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg text-sm font-bold transition-colors",children:"âœ… Opgelost"})]},t.id))}),x==="quality"&&e.jsx(e.Fragment,{children:N.filter(t=>t.status==="open").length===0?e.jsxs("div",{className:"text-center py-12 text-slate-400",children:[e.jsx(P,{size:48,className:"mx-auto mb-4 text-emerald-300"}),e.jsx("div",{className:"font-bold text-sm",children:"Geen openstaande QC issues"})]}):N.filter(t=>t.status==="open").map(t=>e.jsxs("div",{className:"bg-white rounded-2xl border-2 border-red-200 p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(I,{className:"text-red-600",size:20}),e.jsx("div",{className:"text-lg font-black text-slate-800",children:t.machine})]}),e.jsx("div",{className:"text-sm text-slate-600 font-bold",children:t.defectType})]}),e.jsx("div",{className:`px-3 py-1 rounded-lg text-xs font-bold ${t.severity==="high"?"bg-red-500 text-white":t.severity==="medium"?"bg-orange-100 text-orange-700":"bg-yellow-100 text-yellow-700"}`,children:t.severity||"medium"})]}),t.description&&e.jsx("div",{className:"bg-slate-50 rounded-lg p-3 mb-3 text-sm text-slate-700",children:t.description}),e.jsxs("div",{className:"text-xs text-slate-500 mb-3",children:["Order: ",t.orderId||"Onbekend"," â€¢ Gemeld door: ",t.operatorName||"Onbekend"]}),e.jsx("button",{onClick:()=>de(t.id),className:"w-full py-2 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg text-sm font-bold transition-colors",children:"âœ… Opgelost"})]},t.id))}),x==="orders"&&e.jsx(e.Fragment,{children:k.filter(t=>t.status==="in_production"||t.status==="planned").length===0?e.jsxs("div",{className:"text-center py-12 text-slate-400",children:[e.jsx($,{size:48,className:"mx-auto mb-4 opacity-30"}),e.jsx("div",{className:"font-bold text-sm",children:"Geen actieve orders"})]}):k.filter(t=>t.status==="in_production"||t.status==="planned").sort((t,l)=>t.status==="in_production"?-1:1).map(t=>e.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-black text-slate-800",children:t.orderId||t.item}),e.jsx("div",{className:"text-sm text-slate-600",children:t.itemCode})]}),e.jsx("div",{className:`px-3 py-1 rounded-lg text-xs font-bold ${t.status==="in_production"?"bg-orange-100 text-orange-700":"bg-blue-100 text-blue-700"}`,children:t.status==="in_production"?"In Productie":"Gepland"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Z,{size:14}),e.jsx("span",{className:"font-bold",children:t.machine})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx($,{size:14}),e.jsxs("span",{className:"font-bold",children:[t.plan," stuks"]})]}),t.estimatedHours&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(X,{size:14}),e.jsxs("span",{className:"font-bold",children:[t.estimatedHours,"h"]})]})]})]},t.id))})]}),e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 p-3 flex justify-around shadow-lg",children:[e.jsxs("button",{onClick:()=>b("overview"),className:`flex flex-col items-center gap-1 px-4 py-2 rounded-xl transition-colors ${x==="overview"?"bg-indigo-50 text-indigo-600":"text-slate-400"}`,children:[e.jsx(be,{size:22}),e.jsx("span",{className:"text-[10px] font-bold",children:"Overzicht"})]}),e.jsxs("button",{onClick:()=>b("downtime"),className:`flex flex-col items-center gap-1 px-4 py-2 rounded-xl transition-colors relative ${x==="downtime"?"bg-orange-50 text-orange-600":"text-slate-400"}`,children:[d.totalDowntime>0&&e.jsx("div",{className:"absolute -top-1 -right-1 bg-orange-500 text-white text-[10px] font-bold w-5 h-5 rounded-full flex items-center justify-center",children:d.totalDowntime}),e.jsx(G,{size:22}),e.jsx("span",{className:"text-[10px] font-bold",children:"Stilstand"})]}),e.jsxs("button",{onClick:()=>b("quality"),className:`flex flex-col items-center gap-1 px-4 py-2 rounded-xl transition-colors relative ${x==="quality"?"bg-red-50 text-red-600":"text-slate-400"}`,children:[d.totalDefects>0&&e.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] font-bold w-5 h-5 rounded-full flex items-center justify-center",children:d.totalDefects}),e.jsx(I,{size:22}),e.jsx("span",{className:"text-[10px] font-bold",children:"QC"})]}),e.jsxs("button",{onClick:()=>b("orders"),className:`flex flex-col items-center gap-1 px-4 py-2 rounded-xl transition-colors ${x==="orders"?"bg-blue-50 text-blue-600":"text-slate-400"}`,children:[e.jsx($,{size:22}),e.jsx("span",{className:"text-[10px] font-bold",children:"Orders"})]})]})]}):e.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-6",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx(I,{className:"mx-auto mb-4 text-amber-500",size:48}),e.jsx("div",{className:"text-xl font-bold mb-2",children:"Niet ingelogd"}),e.jsx("div",{className:"text-sm text-slate-400",children:"Log in om toegang te krijgen"})]})})};export{ke as default};
