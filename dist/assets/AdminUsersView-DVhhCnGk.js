import{c as he,i as G,d as h,e as g,j as e,L as A,S as _,s as ge,$ as k,l as $,E as z,W as q,D as V,M as fe,a4 as W,X as F,a as je,Y as we,n as ve,_ as Ne,N as f,a5 as ke}from"./index-DNbqce-j.js";import{r as o}from"./react-vendor-CkwvfVK2.js";import{j as B,q as K,x as J,o as Q,l as v,B as ye,I as Z,t as H,s as j,y as M,i as Ce,h as Ae,n as ze,J as X}from"./firebase-DdpHYWNd.js";import{U as L}from"./users-BzjIxhpA.js";import{C as O}from"./clock-yngyoSLs.js";import{F as Se}from"./fingerprint-BYR_OB6y.js";import{P as Ue}from"./pen-line-Bf9VQy3c.js";import{T as Re}from"./trash-2-CmT6fCSF.js";import{C as Y}from"./check-CcAUrFwy.js";/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=he("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),_e=()=>{const[S,ee]=o.useState([]),[w,se]=o.useState([]),[te,U]=o.useState(!0),[N,ae]=o.useState(""),[c,R]=o.useState(null),[re,E]=o.useState(!1),[x,u]=o.useState(!1),[p,i]=o.useState(null),[P,D]=o.useState("users"),[le,y]=o.useState(!1),[r,b]=o.useState({name:"",email:"",country:"",department:"",role:"guest",tempPassword:"",requirePasswordChange:!0}),C=[{id:"admin",label:"Master Admin",color:"bg-blue-600"},{id:"engineer",label:"Process Engineer",color:"bg-purple-600"},{id:"teamleader",label:"Teamleider",color:"bg-emerald-600"},{id:"operator",label:"Machine Operator",color:"bg-orange-600"},{id:"guest",label:"Geen Toegang (Guest)",color:"bg-slate-400"}],ie=["Nederland","BelgiÃ«","Duitsland","Frankrijk","Verenigd Koninkrijk","Anders"],ne=["Productie - Fittings","Productie - Pipes","Productie - Spools","Kwaliteitscontrole","Planning","Logistiek","Magazijn","Onderhoud","Management","Administratie","Anders"];o.useEffect(()=>{if(!G("USERS"))return;U(!0);const s=B(g,...h.USERS),t=K(s,J("name","asc")),a=Q(t,l=>{ee(l.docs.map(d=>({id:d.id,...d.data()}))),U(!1)},l=>{console.error("Firestore Identity Error:",l),U(!1)});return()=>a()},[]);const T=o.useMemo(()=>S.filter(s=>{var t,a,l;return((t=s.name)==null?void 0:t.toLowerCase().includes(N.toLowerCase()))||((a=s.email)==null?void 0:a.toLowerCase().includes(N.toLowerCase()))||((l=s.role)==null?void 0:l.toLowerCase().includes(N.toLowerCase()))}),[S,N]),oe=o.useMemo(()=>{const s={};return T.forEach(t=>{const a=t.country||"Onbekend";s[a]||(s[a]=[]),s[a].push(t)}),s},[T]);o.useEffect(()=>{if(!G("USERS"))return;const s=B(g,...h.ACCOUNT_REQUESTS),t=K(s,J("createdAt","desc")),a=Q(t,l=>{se(l.docs.map(d=>({id:d.id,...d.data()})))},l=>{console.error("Account Requests Error:",l)});return()=>a()},[]);const ce=async()=>{var d;if(!r.name||!r.email){i({type:"error",message:"Naam en email zijn verplicht"});return}u(!0),i(null);const s=r.tempPassword||I();let t=null,a=null,l=!1;try{try{t=Ce(ke,"SecondaryApp");const n=Ae(t);a=(await Z(n,r.email,s)).user.uid,await ze(n)}catch(n){if(n.code==="auth/email-already-in-use"){l=!0,i({type:"warning",message:`âš ï¸ Deze gebruiker bestaat al in Firebase Authentication!

OPLOSSING 1: Ga naar Firebase Console > Authentication en verwijder de gebruiker eerst.
OPLOSSING 2: Als dit een migratie is, voer de UID in van de bestaande gebruiker (zie console log).`}),console.warn("ðŸ” IMPORT INSTRUCTIES:",{email:r.email,message:"Deze gebruiker bestaat al in Firebase Auth",stappen:["1. Open Firebase Console (https://console.firebase.google.com)","2. Ga naar Authentication > Users","3. Zoek naar: "+r.email,"4. Kopieer de User UID","5. Voer de UID hieronder in:"]});const m=prompt(`Deze gebruiker bestaat al in Firebase Authentication.

Als je deze gebruiker wilt IMPORTEREN (migreren van oude database):
âžœ Voer de UID in (zie console voor instructies)

Als je wilt ANNULEREN:
âžœ Laat leeg of druk op Cancel

Als je de gebruiker wilt VERWIJDEREN:
âžœ Ga naar Firebase Console > Authentication`);if(!m||m.trim()===""){i({type:"info",message:"Import geannuleerd."}),u(!1),t&&await X(t);return}if(a=m.trim(),a.length<5)throw new Error("Ongeldige UID opgegeven.")}else throw n}finally{t&&await X(t)}await H(v(g,...h.USERS,a),{name:r.name,email:r.email,country:r.country||"Nederland",department:r.department||"Anders",role:r.role,requirePasswordChange:r.requirePasswordChange,tempPassword:l?"(bestaand wachtwoord behouden)":s,createdAt:j(),createdBy:((d=f.currentUser)==null?void 0:d.email)||"Admin",imported:l,importedAt:l?j():null}),i({type:"success",message:l?"âœ… Gebruiker succesvol geÃ¯mporteerd!":`âœ… Gebruiker aangemaakt! Tijdelijk wachtwoord: ${s}`}),y(!1),b({name:"",email:"",country:"",department:"",role:"guest",tempPassword:"",requirePasswordChange:!0})}catch(n){console.error("Fout bij toevoegen gebruiker:",n);let m="Fout bij toevoegen gebruiker";n.code==="auth/invalid-email"?m="Ongeldig email-adres":n.code==="auth/weak-password"?m="Wachtwoord is te zwak (minimaal 6 karakters)":n.code==="auth/email-already-in-use"?m="E-mailadres is al in gebruik (en import geannuleerd).":m=n.message,i({type:"error",message:m})}finally{u(!1)}},de=s=>{R({...s}),E(!0)},xe=async s=>{if(window.confirm(`Wachtwoord reset link sturen naar ${s}?`))try{const{sendPasswordResetEmail:t}=await Ne(async()=>{const{sendPasswordResetEmail:a}=await import("./firebase-DdpHYWNd.js").then(l=>l.M);return{sendPasswordResetEmail:a}},[]);await t(f,s),i({type:"success",message:`Reset link verzonden naar ${s}. Gebruiker kan via email een nieuw wachtwoord instellen.`})}catch(t){console.error("Reset fout:",t),i({type:"error",message:`Fout bij versturen reset link: ${t.message}`})}},I=()=>{const s="ABCDEFGHJKLMNPQRSTUVWXYZabcdefghjkmnpqrstuvwxyz23456789";let t="";for(let a=0;a<12;a++)t+=s.charAt(Math.floor(Math.random()*s.length));return t},me=async s=>{var t,a;if(!x){u(!0),i(null);try{const l=I(),d=await Z(f,s.email,l);await H(v(g,...h.USERS,d.user.uid),{name:s.name,email:s.email,country:s.country,department:s.department,role:"guest",requirePasswordChange:!0,tempPassword:l,createdAt:j(),createdBy:((t=f.currentUser)==null?void 0:t.email)||"Admin",approved:!0,approvedAt:j()}),await M(v(g,...h.ACCOUNT_REQUESTS,s.id),{status:"approved",processedAt:j(),processedBy:((a=f.currentUser)==null?void 0:a.email)||"Admin",tempPassword:l}),i({type:"success",message:`Account aangemaakt! Tijdelijk wachtwoord: ${l} (deel dit met de gebruiker)`})}catch(l){console.error("Fout bij accepteren aanvraag:",l),i({type:"error",message:`Fout: ${l.message}`})}finally{u(!1)}}},ue=async s=>{var t;if(!x){u(!0);try{await M(v(g,...h.ACCOUNT_REQUESTS,s),{status:"rejected",processedAt:j(),processedBy:((t=f.currentUser)==null?void 0:t.email)||"Admin"}),i({type:"success",message:"Aanvraag geweigerd"})}catch(a){console.error("Fout bij weigeren:",a),i({type:"error",message:"Fout bij weigeren aanvraag"})}finally{u(!1)}}},pe=async()=>{var s;if(!(!c||x)){u(!0);try{const t=v(g,...h.USERS,c.id);await M(t,{name:c.name,role:c.role,lastAdminUpdate:j(),updatedBy:((s=f.currentUser)==null?void 0:s.email)||"Master Admin"}),i({type:"success",msg:"Gebruikersprofiel bijgewerkt"}),setTimeout(()=>i(null),3e3),E(!1)}catch(t){alert("Update mislukt: "+t.message)}finally{u(!1)}}},be=async s=>{if(window.confirm("Account permanent verwijderen uit de root? Dit blokkeert direct alle toegang."))try{const t=v(g,...h.USERS,s);await ye(t),i({type:"success",msg:"Gebruiker verwijderd"}),setTimeout(()=>i(null),3e3)}catch(t){alert(t.message)}};return te?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center bg-slate-50 gap-4",children:[e.jsx(A,{className:"animate-spin text-blue-600",size:48}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 italic",children:"Identiteiten synchroniseren..."})]}):e.jsxs("div",{className:"flex flex-col h-full bg-slate-50 text-left animate-in fade-in overflow-hidden",children:[e.jsxs("div",{className:"p-8 bg-white border-b border-slate-200 shadow-sm shrink-0 z-10",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"p-4 bg-slate-900 text-white rounded-[20px] shadow-xl",children:e.jsx(L,{size:28})}),e.jsxs("div",{className:"text-left",children:[e.jsxs("h2",{className:"text-3xl font-black text-slate-900 uppercase italic tracking-tighter leading-none",children:["Access ",e.jsx("span",{className:"text-blue-600",children:"Controller"})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[e.jsxs("span",{className:"flex items-center gap-1.5 text-[9px] font-black text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded border border-emerald-100 uppercase italic",children:[e.jsx(_,{size:10})," Root Protected"]}),w.filter(s=>s.status==="pending").length>0&&e.jsxs("span",{className:"flex items-center gap-1.5 text-[9px] font-black text-orange-600 bg-orange-50 px-2 py-0.5 rounded border border-orange-100 uppercase italic animate-pulse",children:[e.jsx(O,{size:10})," ",w.filter(s=>s.status==="pending").length," In Wachtrij"]})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ge,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Zoek gebruiker...",value:N,onChange:s=>ae(s.target.value),className:"w-full pl-12 pr-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-2xl font-bold text-sm focus:outline-none focus:border-blue-500 transition-all placeholder:text-slate-400"})]}),e.jsxs("button",{onClick:()=>y(!0),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-2xl font-black uppercase text-xs tracking-widest transition-all flex items-center gap-2 shadow-lg",children:[e.jsx(k,{size:18}),"Gebruiker Toevoegen"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>D("users"),className:`px-6 py-3 rounded-2xl font-black uppercase text-xs tracking-widest transition-all ${P==="users"?"bg-slate-900 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[e.jsx(L,{size:16,className:"inline mr-2"}),"Gebruikers (",S.length,")"]}),e.jsxs("button",{onClick:()=>D("requests"),className:`px-6 py-3 rounded-2xl font-black uppercase text-xs tracking-widest transition-all relative ${P==="requests"?"bg-orange-500 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[e.jsx(k,{size:16,className:"inline mr-2"}),"Wachtrij (",w.filter(s=>s.status==="pending").length,")",w.filter(s=>s.status==="pending").length>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-pulse"})]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar bg-slate-50/50",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[p&&e.jsx("div",{className:`p-5 rounded-2xl font-bold text-sm whitespace-pre-wrap ${p.type==="success"?"bg-green-50 text-green-700 border-2 border-green-200":p.type==="warning"?"bg-amber-50 text-amber-800 border-2 border-amber-300":p.type==="info"?"bg-blue-50 text-blue-700 border-2 border-blue-200":"bg-rose-50 text-rose-700 border-2 border-rose-200"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[p.type==="success"&&e.jsx($,{size:20,className:"flex-shrink-0 mt-0.5"}),p.type==="warning"&&e.jsx(z,{size:20,className:"flex-shrink-0 mt-0.5"}),p.type==="info"&&e.jsx(z,{size:20,className:"flex-shrink-0 mt-0.5"}),p.type==="error"&&e.jsx(z,{size:20,className:"flex-shrink-0 mt-0.5"}),e.jsx("div",{className:"flex-1",children:p.message})]})}),P==="users"?e.jsx(e.Fragment,{children:T.length===0?e.jsxs("div",{className:"py-32 text-center bg-white rounded-[45px] border-2 border-dashed border-slate-200 opacity-50 flex flex-col items-center",children:[e.jsx(L,{size:64,className:"text-slate-200 mb-4"}),e.jsx("p",{className:"text-sm font-black uppercase tracking-widest text-slate-400",children:"Geen geautoriseerde accounts gevonden"})]}):e.jsx("div",{className:"space-y-8",children:Object.entries(oe).map(([s,t])=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-slate-800 rounded-xl",children:e.jsx(q,{size:20,className:"text-white"})}),e.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase italic tracking-tight",children:s}),e.jsxs("span",{className:"text-sm font-bold text-slate-400",children:["(",t.length,")"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:t.map(a=>{var l,d;return e.jsxs("div",{className:"bg-white p-7 rounded-[40px] border border-slate-200 shadow-sm hover:shadow-xl hover:border-blue-400 transition-all group flex flex-col justify-between relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-5 rotate-12 group-hover:opacity-10 transition-opacity",children:e.jsx(V,{size:100})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"w-14 h-14 bg-slate-900 text-white rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:e.jsx(Se,{size:28})}),e.jsxs("div",{className:"text-left overflow-hidden",children:[e.jsx("h4",{className:"font-black text-slate-900 uppercase italic truncate text-lg leading-none mb-1.5",children:a.name||"Identiteit Onbekend"}),e.jsx("span",{className:`px-3 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest text-white shadow-sm ${((l=C.find(n=>n.id===a.role))==null?void 0:l.color)||"bg-slate-400"}`,children:((d=C.find(n=>n.id===a.role))==null?void 0:d.label)||a.role})]})]}),e.jsxs("div",{className:"space-y-4 border-t border-slate-50 pt-6",children:[e.jsxs("div",{className:"flex items-center gap-3 text-xs font-bold text-slate-500",children:[e.jsx(fe,{size:14,className:"text-blue-500"})," ",a.email]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("span",{className:"text-[8px] font-mono text-slate-300 uppercase bg-slate-50 px-2 py-1 rounded-md border border-slate-100",children:["UID: ",a.id]})})]})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-50 flex justify-end gap-2 opacity-0 group-hover:opacity-100 transition-all",children:[e.jsx("button",{onClick:()=>xe(a.email),className:"p-3 bg-slate-50 text-slate-400 hover:text-orange-600 hover:bg-orange-50 rounded-xl transition-all",title:"Wachtwoord Resetten",children:e.jsx(W,{size:18})}),e.jsx("button",{onClick:()=>de(a),className:"p-3 bg-slate-50 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-all",title:"Bewerken",children:e.jsx(Ue,{size:18})}),e.jsx("button",{onClick:()=>be(a.id),className:"p-3 bg-slate-50 text-slate-300 hover:text-rose-600 hover:bg-rose-50 rounded-xl transition-all",title:"Account Verwijderen",children:e.jsx(Re,{size:18})})]})]},a.id)})})]},s))})}):e.jsx("div",{className:"space-y-4",children:w.filter(s=>s.status==="pending").length===0?e.jsxs("div",{className:"py-32 text-center bg-white rounded-[45px] border-2 border-dashed border-slate-200 opacity-50 flex flex-col items-center",children:[e.jsx(O,{size:64,className:"text-slate-200 mb-4"}),e.jsx("p",{className:"text-sm font-black uppercase tracking-widest text-slate-400",children:"Geen openstaande aanvragen"})]}):w.filter(s=>s.status==="pending").map(s=>e.jsxs("div",{className:"bg-white p-8 rounded-[40px] border-2 border-orange-200 shadow-lg hover:shadow-2xl transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-orange-500 text-white rounded-2xl flex items-center justify-center shadow-xl",children:e.jsx(k,{size:32})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-black text-slate-900 uppercase italic tracking-tight",children:s.name}),e.jsx("p",{className:"text-sm text-slate-600 font-bold mt-1",children:s.email})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-orange-600 bg-orange-50 px-3 py-2 rounded-xl border border-orange-200",children:[e.jsx(O,{size:16}),e.jsx("span",{className:"text-xs font-black uppercase",children:"In Wacht rij"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl",children:[e.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest block mb-1",children:"Land"}),e.jsx("span",{className:"text-sm font-bold text-slate-900",children:s.country})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl",children:[e.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest block mb-1",children:"Afdeling"}),e.jsx("span",{className:"text-sm font-bold text-slate-900",children:s.department})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>me(s),disabled:x,className:"flex-1 py-4 bg-green-600 hover:bg-green-700 text-white rounded-2xl font-black uppercase text-xs tracking-widest transition-all disabled:opacity-50 flex items-center justify-center gap-2 shadow-lg",children:x?e.jsx(A,{className:"animate-spin",size:18}):e.jsxs(e.Fragment,{children:[e.jsx(Y,{size:18}),"Accepteren"]})}),e.jsxs("button",{onClick:()=>ue(s.id),disabled:x,className:"flex-1 py-4 bg-rose-600 hover:bg-rose-700 text-white rounded-2xl font-black uppercase text-xs tracking-widest transition-all disabled:opacity-50 flex items-center justify-center gap-2 shadow-lg",children:[e.jsx(F,{size:18}),"Weigeren"]})]})]},s.id))})]})}),re&&c&&e.jsx("div",{className:"fixed inset-0 z-[1000] bg-slate-950/80 backdrop-blur-md flex items-center justify-center p-4 animate-in fade-in duration-300",children:e.jsxs("div",{className:"bg-white w-full max-w-xl rounded-[50px] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300 border border-white/10",children:[e.jsxs("div",{className:"p-10 border-b border-slate-50 flex justify-between items-center bg-slate-50/50",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"p-4 bg-blue-600 text-white rounded-2xl shadow-xl",children:e.jsx(je,{size:28})}),e.jsxs("div",{className:"text-left",children:[e.jsxs("h3",{className:"text-2xl font-black text-slate-900 uppercase italic tracking-tighter leading-none",children:["Rechten ",e.jsx("span",{className:"text-blue-600",children:"Beheren"})]}),e.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-1.5 italic",children:["Identity Sync: ",c.id.substring(0,8)]})]})]}),e.jsx("button",{onClick:()=>E(!1),className:"p-3 hover:bg-slate-200 text-slate-300 rounded-2xl transition-all",children:e.jsx(F,{size:28})})]}),e.jsxs("div",{className:"p-10 space-y-8 text-left",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] ml-2",children:"Volledige Naam"}),e.jsxs("div",{className:"relative group",children:[e.jsx(we,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-blue-500",size:20}),e.jsx("input",{className:"w-full pl-14 pr-6 py-5 bg-slate-50 border-2 border-slate-100 rounded-[25px] font-black text-slate-800 outline-none focus:border-blue-500 focus:bg-white transition-all shadow-inner",value:c.name||"",onChange:s=>R({...c,name:s.target.value})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] ml-2",children:"Systeem Rol & Toegang"}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:C.map(s=>e.jsxs("button",{onClick:()=>R({...c,role:s.id}),className:`p-5 rounded-[25px] border-2 transition-all flex items-center justify-between group ${c.role===s.id?"bg-blue-50 border-blue-500 shadow-md ring-4 ring-blue-500/5":"bg-white border-slate-100 hover:border-blue-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${s.color} ${c.role===s.id?"animate-pulse shadow-[0_0_8px_rgba(59,130,246,0.6)]":"opacity-40"}`}),e.jsx("span",{className:`font-black uppercase tracking-widest text-[11px] ${c.role===s.id?"text-blue-700":"text-slate-400"}`,children:s.label})]}),c.role===s.id&&e.jsx($,{size:18,className:"text-blue-500"})]},s.id))})]}),e.jsxs("button",{onClick:pe,disabled:x,className:"w-full py-7 bg-slate-900 text-white rounded-[30px] font-black uppercase text-sm tracking-[0.3em] shadow-2xl hover:bg-blue-600 transition-all flex items-center justify-center gap-4 active:scale-95 disabled:opacity-50 mt-6",children:[x?e.jsx(A,{className:"animate-spin"}):e.jsx(ve,{size:24}),"Publiceren naar Root Node"]})]})]})}),e.jsxs("div",{className:"p-4 bg-slate-950 border-t border-white/5 flex justify-between items-center text-[10px] font-black text-slate-600 uppercase tracking-[0.4em] px-10 shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("span",{className:"flex items-center gap-2 text-emerald-500/50",children:[e.jsx(_,{size:14})," Forensic Audit Active"]}),e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(V,{size:14})," Central Identity Vault"]})]}),e.jsx("span",{className:"opacity-30 italic",children:"User Management v6.11"})]}),le&&e.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-200 p-4",children:e.jsxs("div",{className:"bg-white rounded-[40px] shadow-2xl max-w-lg w-full max-h-[90vh] flex flex-col animate-in zoom-in-95 duration-300",children:[e.jsx("div",{className:"p-8 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-[40px] shrink-0",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-2xl",children:e.jsx(k,{size:24})}),e.jsx("h2",{className:"text-3xl font-black uppercase italic tracking-tighter",children:"Gebruiker Toevoegen"})]}),e.jsx("p",{className:"text-blue-100 text-sm font-bold",children:"Nieuw account aanmaken met tijdelijk wachtwoord"})]}),e.jsx("button",{onClick:()=>y(!1),className:"p-2 hover:bg-white/20 rounded-xl transition-colors",children:e.jsx(F,{size:24})})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-5 custom-scrollbar",children:[e.jsx("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-2xl p-4 text-xs space-y-2",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(z,{size:16,className:"text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-bold text-blue-900",children:"ðŸ’¡ Als het email-adres al bestaat in Firebase Authentication:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-blue-700 ml-2",children:[e.jsx("li",{children:"Je krijgt een melding met import-instructies"}),e.jsx("li",{children:"Volg de stappen om de UID te vinden in Firebase Console"}),e.jsx("li",{children:"OF verwijder de oude gebruiker eerst via Console"})]}),e.jsxs("a",{href:"https://console.firebase.google.com",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-blue-600 hover:text-blue-800 font-black underline mt-2",children:[e.jsx(q,{size:12}),"Open Firebase Console"]})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-600 uppercase tracking-widest",children:"Naam"}),e.jsx("input",{type:"text",value:r.name,onChange:s=>b({...r,name:s.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-2xl font-bold text-sm focus:outline-none focus:border-blue-500 transition-all",placeholder:"Volledige naam"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-600 uppercase tracking-widest",children:"Email"}),e.jsx("input",{type:"email",value:r.email,onChange:s=>b({...r,email:s.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-2xl font-bold text-sm focus:outline-none focus:border-blue-500 transition-all",placeholder:"naam@futurepipe.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-600 uppercase tracking-widest",children:"Land"}),e.jsxs("select",{value:r.country,onChange:s=>b({...r,country:s.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-2xl font-bold text-sm focus:outline-none focus:border-blue-500 transition-all",children:[e.jsx("option",{value:"",children:"-- Selecteer land --"}),ie.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-600 uppercase tracking-widest",children:"Afdeling"}),e.jsxs("select",{value:r.department,onChange:s=>b({...r,department:s.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-2xl font-bold text-sm focus:outline-none focus:border-blue-500 transition-all",children:[e.jsx("option",{value:"",children:"-- Selecteer afdeling --"}),ne.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-600 uppercase tracking-widest",children:"Wachtwoord Instellingen"}),e.jsxs("div",{className:"p-4 bg-slate-50 border-2 border-slate-200 rounded-2xl space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(W,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),e.jsx("input",{type:"text",value:r.tempPassword,onChange:s=>b({...r,tempPassword:s.target.value}),placeholder:"Automatisch gegenereerd (of typ zelf)",className:"w-full pl-10 pr-4 py-3 bg-white border border-slate-200 rounded-xl font-mono text-sm focus:outline-none focus:border-blue-500"})]}),e.jsx("button",{onClick:()=>b({...r,tempPassword:I()}),className:"p-3 bg-white border border-slate-200 text-slate-500 hover:text-blue-600 hover:border-blue-300 rounded-xl transition-all",title:"Genereer nieuw wachtwoord",children:e.jsx(Ee,{size:18})})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[e.jsx("div",{className:`w-5 h-5 rounded-md border-2 flex items-center justify-center transition-all ${r.requirePasswordChange?"bg-blue-500 border-blue-500":"bg-white border-slate-300 group-hover:border-blue-400"}`,children:r.requirePasswordChange&&e.jsx(Y,{size:14,className:"text-white"})}),e.jsx("input",{type:"checkbox",className:"hidden",checked:r.requirePasswordChange,onChange:s=>b({...r,requirePasswordChange:s.target.checked})}),e.jsx("span",{className:"text-sm font-bold text-slate-700 select-none",children:"Wachtwoord wijzigen bij volgende login verplichten"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-600 uppercase tracking-widest",children:"Rol"}),e.jsx("select",{value:r.role,onChange:s=>b({...r,role:s.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-2xl font-bold text-sm focus:outline-none focus:border-blue-500 transition-all",children:C.map(s=>e.jsx("option",{value:s.id,children:s.label},s.id))})]})]}),e.jsx("div",{className:"p-6 bg-slate-50 border-t border-slate-200 shrink-0 rounded-b-[40px]",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>y(!1),className:"flex-1 px-6 py-4 bg-slate-100 text-slate-700 rounded-2xl font-bold uppercase text-xs tracking-widest hover:bg-slate-200 transition-all",children:"Annuleren"}),e.jsx("button",{onClick:ce,disabled:x,className:"flex-1 px-6 py-4 bg-blue-600 hover:bg-blue-700 text-white rounded-2xl font-black uppercase text-xs tracking-widest transition-all disabled:opacity-50 flex items-center justify-center gap-2 shadow-lg",children:x?e.jsx(A,{className:"animate-spin",size:18}):e.jsxs(e.Fragment,{children:[e.jsx(k,{size:18}),"Toevoegen"]})})]})})]})})]})};export{_e as default};
