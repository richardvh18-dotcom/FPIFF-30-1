import{c as L,d as i,e as x,j as e,L as g,S,l as C,n as E,X as D}from"./index-DNbqce-j.js";import{r}from"./react-vendor-CkwvfVK2.js";import{j as I,q as T,x as B,o as _,B as K,l as v,y as q,s as G}from"./firebase-DdpHYWNd.js";import{a as N}from"./AdminDashboard-BkhDkzix.js";import{A as R}from"./alert-triangle-BUFzzSRW.js";import{C as V}from"./clock-yngyoSLs.js";import{T as w}from"./trash-2-CmT6fCSF.js";import{H}from"./users-BzjIxhpA.js";import"./arrow-left-CeHKlJCF.js";import"./book-open-Dw5UZXUq.js";/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=L("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),Y=()=>{const[l,k]=r.useState([]),[y,m]=r.useState(!0),[A,n]=r.useState(null),[p,c]=r.useState(""),[b,h]=r.useState(!1);r.useEffect(()=>{const t=I(x,...i.AI_KNOWLEDGE_BASE),s=T(t,B("timestamp","desc")),a=_(s,o=>{k(o.docs.map(j=>({id:j.id,...j.data()}))),m(!1)},o=>{console.error("Fout bij laden AI logs:",o),m(!1)});return()=>a()},[]);const u=async(t,s=null)=>{h(!0);try{const a=v(x,...i.AI_KNOWLEDGE_BASE,t);await q(a,{verified:!0,correctedAnswer:s||null,verifiedAt:G(),verifiedBy:"Admin"}),n(null),c("")}catch(a){console.error("Fout bij verifiÃ«ren:",a)}finally{h(!1)}},f=async t=>{if(window.confirm("Deze interactie verwijderen uit de kennisbank?"))try{await K(v(x,...i.AI_KNOWLEDGE_BASE,t))}catch(s){console.error("Fout bij verwijderen:",s)}},d=l.filter(t=>t.feedback==="negative"&&!t.verified),z=l.filter(t=>t.feedback!=="negative"||t.verified).slice(0,15);return y?e.jsxs("div",{className:"flex flex-col items-center justify-center p-20 gap-4 h-full",children:[e.jsx(g,{className:"animate-spin text-blue-500",size:40}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 italic",children:"Kennisbank synchroniseren..."})]}):e.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 max-w-5xl mx-auto p-6 text-left pb-32",children:[e.jsxs("div",{className:"bg-slate-900 p-8 rounded-[40px] text-white flex flex-col md:flex-row items-center justify-between relative overflow-hidden shadow-xl mb-10 border border-white/5 gap-6",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 rotate-12",children:e.jsx(N,{size:150})}),e.jsxs("div",{className:"relative z-10 text-left flex-1",children:[e.jsxs("h2",{className:"text-2xl font-black uppercase italic tracking-tighter leading-none",children:["AI ",e.jsx("span",{className:"text-blue-500",children:"Learning Center"})]}),e.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3",children:[e.jsxs("span",{className:"flex items-center gap-1.5 text-[9px] font-black text-emerald-400 bg-white/5 px-2 py-0.5 rounded uppercase border border-white/10 italic",children:[e.jsx(S,{size:10})," Root Protected"]}),e.jsxs("span",{className:"text-[9px] font-mono text-slate-500 italic",children:["/",i.AI_KNOWLEDGE_BASE.join("/")]})]})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 p-4 rounded-2xl text-right shrink-0 relative z-10",children:[e.jsx("span",{className:"text-[8px] font-black text-slate-500 uppercase block mb-1",children:"Kennis Records"}),e.jsxs("span",{className:"text-xl font-black text-blue-400 italic leading-none",children:[l.length," interacties"]})]})]}),e.jsxs("div",{className:"space-y-4 text-left",children:[e.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2 mb-6 ml-2",children:[e.jsx(R,{className:"text-rose-500",size:18})," Training Vereist",e.jsx("span",{className:"bg-rose-100 text-rose-600 px-3 py-0.5 rounded-full text-[10px] font-black",children:d.length})]}),d.length===0?e.jsxs("div",{className:"bg-emerald-50 border-2 border-emerald-100 p-10 rounded-[3rem] text-center opacity-80",children:[e.jsx(C,{size:48,className:"mx-auto mb-4 text-emerald-300"}),e.jsx("p",{className:"font-black uppercase text-[10px] tracking-[0.2em] text-emerald-600 italic",children:"Alle AI antwoorden zijn momenteel gevalideerd"})]}):e.jsx("div",{className:"grid grid-cols-1 gap-6",children:d.map(t=>{var s;return e.jsx("div",{className:"bg-white border-2 border-rose-100 rounded-[3rem] overflow-hidden shadow-sm hover:shadow-xl transition-all animate-in slide-in-from-bottom-2 text-left",children:e.jsxs("div",{className:"p-8 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center pb-4 border-b border-slate-50",children:[e.jsxs("div",{className:"flex items-center gap-3 text-[10px] font-black uppercase text-slate-400",children:[e.jsx(V,{size:14,className:"text-blue-500"}),(s=t.timestamp)!=null&&s.toDate?t.timestamp.toDate().toLocaleString("nl-NL"):"Zojuist"]}),e.jsx("button",{onClick:()=>f(t.id),className:"p-2.5 text-slate-300 hover:text-rose-600 hover:bg-rose-50 rounded-xl transition-all",children:e.jsx(w,{size:18})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 text-left",children:[e.jsxs("div",{className:"bg-slate-50 p-6 rounded-[2rem] border border-slate-100 relative",children:[e.jsx("div",{className:"absolute -top-3 left-6 bg-slate-200 text-slate-600 px-3 py-1 rounded-lg text-[8px] font-black uppercase italic",children:"Vraag van Gebruiker"}),e.jsxs("p",{className:"text-sm font-black text-slate-800 leading-relaxed italic",children:['"',t.question,'"']})]}),e.jsxs("div",{className:"bg-rose-50/50 p-6 rounded-[2rem] border border-rose-100 relative",children:[e.jsx("div",{className:"absolute -top-3 left-6 bg-rose-200 text-rose-700 px-3 py-1 rounded-lg text-[8px] font-black uppercase italic",children:"AI Response"}),e.jsxs("p",{className:"text-sm text-slate-600 leading-relaxed italic",children:['"',t.answer,'"']})]})]}),A===t.id?e.jsxs("div",{className:"mt-8 space-y-4 animate-in zoom-in-95 text-left",children:[e.jsx("div",{className:"bg-blue-600 p-1 rounded-[2.2rem] shadow-xl shadow-blue-200",children:e.jsx("textarea",{className:"w-full bg-white border-none rounded-[2rem] p-6 text-sm font-bold outline-none min-h-[120px] shadow-inner text-slate-700",value:p,onChange:a=>c(a.target.value),placeholder:"Voer het juiste technische antwoord in...",autoFocus:!0})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>u(t.id,p),disabled:b,className:"flex-1 bg-blue-600 text-white py-5 rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-blue-700 shadow-lg flex items-center justify-center gap-2",children:[b?e.jsx(g,{className:"animate-spin",size:14}):e.jsx(E,{size:14})," ","Systeem Trainen"]}),e.jsx("button",{onClick:()=>n(null),className:"px-10 py-5 bg-slate-100 text-slate-400 rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200",children:e.jsx(D,{size:14})})]})]}):e.jsxs("button",{onClick:()=>{n(t.id),c(t.answer)},className:"w-full bg-slate-900 text-white py-5 rounded-[2rem] font-black text-[10px] uppercase tracking-[0.3em] hover:bg-blue-600 transition-all shadow-xl active:scale-95 flex items-center justify-center gap-3",children:[e.jsx(N,{size:20,className:"text-blue-400"})," ","Corrigeer & Valideer Antwoord"]})]})},t.id)})})]}),e.jsxs("div",{className:"opacity-80 pt-10 text-left",children:[e.jsxs("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.4em] mb-6 flex items-center gap-2 ml-2 italic leading-none",children:[e.jsx(H,{size:16,className:"text-blue-500"})," Interactie Historie (Laatste 15)"]}),e.jsx("div",{className:"space-y-3",children:z.map(t=>{var s;return e.jsxs("div",{className:`p-5 rounded-[2rem] border-2 bg-white flex items-center justify-between transition-all group ${t.verified?"border-emerald-100 shadow-sm":"border-slate-100 hover:border-blue-200"}`,children:[e.jsxs("div",{className:"flex-1 min-w-0 pr-6 text-left",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.verified?e.jsx("span",{className:"bg-emerald-100 text-emerald-600 px-2 py-0.5 rounded-lg text-[8px] font-black uppercase italic border border-emerald-200",children:"Kennis Gevalideerd"}):e.jsx("span",{className:"bg-slate-100 text-slate-400 px-2 py-0.5 rounded-lg text-[8px] font-black uppercase border border-slate-200",children:"Draft Log"}),e.jsx("span",{className:"text-[9px] font-bold text-slate-300 italic",children:(s=t.timestamp)!=null&&s.toDate?t.timestamp.toDate().toLocaleTimeString():"Log"})]}),e.jsxs("p",{className:"text-xs font-black text-slate-700 truncate italic",children:['"',t.question,'"']})]}),e.jsxs("div",{className:"flex gap-2",children:[!t.verified&&e.jsx("button",{onClick:()=>u(t.id),className:"p-3 text-slate-300 hover:text-emerald-500 bg-slate-50 rounded-xl transition-all",title:"Bevestig correctheid",children:e.jsx(F,{size:18})}),e.jsx("button",{onClick:()=>f(t.id),className:"p-3 text-slate-200 hover:text-rose-500 bg-slate-50 rounded-xl transition-all",children:e.jsx(w,{size:18})})]})]},t.id)})})]})]})};export{Y as default};
