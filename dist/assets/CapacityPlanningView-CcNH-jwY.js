import{c as se,u as je,d as W,e as z,j as e,L as Ne,g as ve,l as Q,a3 as we,Z as ye,E as X,a8 as ke}from"./index-DNbqce-j.js";import{r as x}from"./react-vendor-CkwvfVK2.js";import{l as Se,o as P,j as I}from"./firebase-DdpHYWNd.js";import{g as Me,s as De}from"./index-CSXCcwhn.js";import{e as $e}from"./index-BoyFRaS1.js";import{r as ae,t as re}from"./index-jHXuI3CI.js";import{a as ee}from"./index-BsxtD_7s.js";import{f as j}from"./index-CFK5EZMp.js";import{A as T}from"./alert-triangle-BUFzzSRW.js";import{C as Ce}from"./clock-yngyoSLs.js";import{T as Oe,B as Ae}from"./trending-down-BdnZJ9c2.js";import{U as te}from"./users-BzjIxhpA.js";import{C as He}from"./chevron-left-BrN2e-EN.js";import{A as We}from"./activity-BBrgQQV7.js";import{C as ze}from"./calendar-C-DwY-3M.js";import{s as Pe}from"./index-DYfIlivi.js";import"./index-B01KZ34F.js";import"./index-BAcl2P2b.js";import"./index-CHWv9JIR.js";/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=se("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=se("FileDown",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);function Ee(m){ae(1,arguments);var N=re(m),M=N.getFullYear();return N.setFullYear(M+1,0,0),N.setHours(23,59,59,999),N}function B(m){ae(1,arguments);var N=re(m),M=new Date(0);return M.setFullYear(N.getFullYear(),0,1),M.setHours(0,0,0,0),M}const rt=()=>{const{user:m,role:N,isAdmin:M}=je(),[ne,G]=x.useState(!0),[U,le]=x.useState([]),[V,de]=x.useState([]),[R,ie]=x.useState([]),[L,_]=x.useState(new Date),[p,E]=x.useState("ALLES"),[F,oe]=x.useState(["ALLES"]),[$,ce]=x.useState({departments:[]}),[y,xe]=x.useState("week"),[u,ue]=x.useState(new Date().getFullYear()),[q,me]=x.useState(new Date().getFullYear()-1),Y=N==="teamleader",D=m==null?void 0:m.department,pe=M||N==="engineer"||!Y,C=Me(L),O=De(L),A=$e(L);let h,b,k;switch(y){case"week":h=O,b=A,k=`Week ${C} â€¢ ${j(O,"d MMM")} - ${j(A,"d MMM yyyy")}`;break;case"ytd":h=B(new Date(u,0,1)),b=new Date,k=`YTD ${u} â€¢ ${j(h,"d MMM")} - ${j(b,"d MMM yyyy")}`;break;case"year":h=B(new Date(u,0,1)),b=Ee(new Date(u,11,31)),k=`Hele jaar ${u} â€¢ ${j(h,"d MMM")} - ${j(b,"d MMM yyyy")}`;break;case"future":h=new Date,b=ee(new Date,12),k=`Komende 12 weken â€¢ ${j(h,"d MMM")} - ${j(b,"d MMM yyyy")}`;break;case"yoy":h=B(new Date(u,0,1)),b=new Date,k=`Vergelijking ${q} vs ${u}`;break;default:h=O,b=A,k=`Week ${C}`}const Z=(t,a)=>{var d;if(a==="ALLES")return!0;if(!t)return!1;const i=(d=$.departments)==null?void 0:d.find(f=>f.id===t);if(!i)return!1;const n=i.name.toLowerCase().trim(),l=a.toLowerCase().trim();return!!(n===l||n.includes(l)||l.includes(n))};x.useEffect(()=>{const t=Se(z,...W.FACTORY_CONFIG),a=P(t,i=>{if(i.exists()){const n=i.data();ce(n);const l=Array.isArray(n.departments)?n.departments.filter(d=>d.isActive).map(d=>d.name):[];oe(["ALLES",...l])}});return()=>a()},[]),x.useEffect(()=>{if(Y&&D){const t=F.find(a=>a===D||a.includes(D)||D.includes(a));t?E(t):D!=="ALLES"&&E(D)}},[Y,D,F]),x.useEffect(()=>{G(!0);const t=P(I(z,...W.OCCUPANCY),n=>{le(n.docs.map(l=>({id:l.id,...l.data()})))}),a=P(I(z,...W.PLANNING),n=>{de(n.docs.map(l=>({id:l.id,...l.data()}))),G(!1)}),i=P(I(z,...W.PRODUCTION_STANDARDS),n=>{ie(n.docs.map(l=>({id:l.id,...l.data()})))});return()=>{t(),a(),i()}},[]);const r=x.useMemo(()=>{let t=U.filter(c=>{const g=new Date(c.date);return g>=h&&g<=b});if(p!=="ALLES"){const c=[...new Set(t.map(w=>w.departmentId))],g=c.map(w=>{var J;const K=(J=$.departments)==null?void 0:J.find(ge=>ge.id===w);return K?K.name:w});console.log("ðŸ“Š Department IDs in occupancy:",c),console.log("ðŸ“Š Department Names:",g),console.log("ðŸ” Filtering for:",p)}p!=="ALLES"&&(t=t.filter(c=>Z(c.departmentId,p)));let a=0,i=0,n=0;t.forEach(c=>{const g=parseFloat(c.hoursWorked||0);a+=g;const w=(c.machineId||"").toUpperCase();w.startsWith("BH")||w.startsWith("BA")?i+=g:n+=g});const l=t.reduce((c,g)=>c+8,0),d=l-a,v=new Set(t.map(c=>c.operatorNumber)).size;return{totalProductionHours:Math.round(a*10)/10,realProductionHours:Math.round(i*10)/10,supportHours:Math.round(n*10)/10,overheadHours:Math.round(d*10)/10,totalScheduledHours:Math.round(l*10)/10,operatorCount:v,efficiency:l>0?Math.round(a/l*100):0,productionRatio:a>0?Math.round(i/a*100):0}},[U,h,b,p,$,y]),s=x.useMemo(()=>{let t=V.filter(d=>{const f=d.plannedDate?new Date(d.plannedDate):new Date;return f>=h&&f<=b});if(p!=="ALLES"){const d=[...new Set(t.map(v=>v.departmentId))],f=d.map(v=>{var g;const c=(g=$.departments)==null?void 0:g.find(w=>w.id===v);return c?c.name:v});console.log("ðŸ“‹ Department IDs in planning:",d),console.log("ðŸ“‹ Department Names:",f)}p!=="ALLES"&&(t=t.filter(d=>Z(d.departmentId,p)));let a=0,i=0,n=0,l=0;return t.forEach(d=>{const f=parseInt(d.plan||0);a+=f;const v=R.find(c=>c.itemCode===d.item&&c.machine===d.machine);if(v&&f>0){const c=v.standardMinutes*f/60;i+=c,n++}else f>0&&l++}),{totalPlannedUnits:a,estimatedHours:Math.round(i*10)/10,ordersWithStandards:n,ordersWithoutStandards:l,totalOrders:t.length}},[V,R,h,b,p,$,y]),o=x.useMemo(()=>{const t=r.realProductionHours-s.estimatedHours,a=s.estimatedHours>0?Math.round(t/s.estimatedHours*100):0;return{hours:Math.round(t*10)/10,percentage:a,status:t>=0?"surplus":"shortage"}},[r,s]),H=x.useMemo(()=>{const t=[];if(o.status==="shortage"&&Math.abs(o.hours)>10&&t.push({type:"capacity_shortage",severity:"high",title:"Capaciteitstekort",description:`${Math.abs(o.hours)}u te kort voor geplande productie`,icon:T,color:"text-red-500"}),s.ordersWithoutStandards>0){const a=Math.round(s.ordersWithoutStandards/s.totalOrders*100);t.push({type:"missing_standards",severity:a>50?"high":"medium",title:"Ontbrekende Productietijden",description:`${s.ordersWithoutStandards} orders (${a}%) zonder standaardtijden`,icon:Ce,color:a>50?"text-orange-500":"text-yellow-500"})}return r.efficiency<70&&t.push({type:"low_efficiency",severity:"medium",title:"Lage Efficiency",description:`Slechts ${r.efficiency}% van beschikbare tijd productief`,icon:Oe,color:"text-yellow-500"}),r.operatorCount<3&&t.push({type:"low_staffing",severity:"medium",title:"Onderbezetting",description:`Slechts ${r.operatorCount} operators deze week`,icon:te,color:"text-yellow-500"}),t},[o,r,s]),S=x.useMemo(()=>{const t=r.realProductionHours,i=s.estimatedHours*1.1,n=t-i;return{nextWeekDemand:Math.round(i*10)/10,nextWeekGap:Math.round(n*10)/10,trend:n<0?"increasing_pressure":"manageable",confidence:s.ordersWithStandards>0?"medium":"low"}},[r,s]),he=()=>{const t=new ke,a=t.internal.pageSize.width;t.setFontSize(20),t.text("Capaciteitsrapport",14,20),t.setFontSize(12),t.text(`Week ${C} â€¢ ${j(O,"d MMM")} - ${j(A,"d MMM yyyy")}`,14,28),t.text(`Afdeling: ${p}`,14,34),t.setFontSize(14),t.text("Beschikbare Capaciteit",14,45),t.autoTable({startY:50,head:[["Metric","Waarde"]],body:[["Totaal Uren",`${r.totalProductionHours}u`],["Productie Uren (BH/BA)",`${r.realProductionHours}u`],["Support Uren",`${r.supportHours}u`],["Overhead",`${r.overheadHours}u`],["Operators",r.operatorCount],["Efficiency",`${r.efficiency}%`]],theme:"striped"});const i=t.lastAutoTable.finalY+10;t.setFontSize(14),t.text("Geplande Vraag",14,i),t.autoTable({startY:i+5,head:[["Metric","Waarde"]],body:[["Geplande Eenheden",s.totalPlannedUnits],["Geschatte Uren",`${s.estimatedHours}u`],["Orders met Tijden",s.ordersWithStandards],["Orders zonder Tijden",s.ordersWithoutStandards]],theme:"striped"});const n=t.lastAutoTable.finalY+10;if(t.setFontSize(14),t.text("Gap Analyse",14,n),t.autoTable({startY:n+5,head:[["Metric","Waarde"]],body:[["Verschil",`${o.hours}u`],["Percentage",`${o.percentage}%`],["Status",o.status==="surplus"?"Overcapaciteit":"Tekort"]],theme:"striped"}),H.length>0){const l=t.lastAutoTable.finalY+10;t.setFontSize(14),t.text("Knelpunten",14,l),t.autoTable({startY:l+5,head:[["Type","Beschrijving","Prioriteit"]],body:H.map(d=>[d.title,d.description,d.severity.toUpperCase()]),theme:"striped"})}t.setFontSize(8),t.text(`Gegenereerd: ${j(new Date,"dd-MM-yyyy HH:mm")}`,14,t.internal.pageSize.height-10),t.text(`Gebruiker: ${(m==null?void 0:m.name)||(m==null?void 0:m.email)}`,a-14,t.internal.pageSize.height-10,{align:"right"}),t.save(`capaciteit_week${C}_${p}.pdf`)},be=()=>{_(t=>Pe(t,1))},fe=()=>{_(t=>ee(t,1))};return ne?e.jsx("div",{className:"flex items-center justify-center p-12",children:e.jsx(Ne,{className:"animate-spin text-blue-600",size:32})}):e.jsxs("div",{className:"space-y-6 p-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 p-8 rounded-[40px] text-white relative overflow-hidden shadow-xl border border-white/5",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 rotate-12",children:e.jsx(Ae,{size:150})}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h2",{className:"text-2xl font-black uppercase italic tracking-tighter leading-none",children:["Capaciteits ",e.jsx("span",{className:"text-blue-400",children:"Planning"})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[e.jsx("div",{className:"flex gap-2",children:[{value:"week",label:"Week",icon:"ðŸ“…"},{value:"ytd",label:"YTD",icon:"ðŸ“ˆ"},{value:"year",label:"Jaar",icon:"ðŸ“Š"},{value:"future",label:"Toekomst",icon:"ðŸ”®"},{value:"yoy",label:"YoY Vergelijking",icon:"ðŸ“‰"}].map(t=>e.jsxs("button",{onClick:()=>xe(t.value),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all ${y===t.value?"bg-blue-500/30 border border-blue-400/50 text-white":"bg-white/5 border border-white/10 text-slate-300 hover:bg-white/10"}`,children:[t.icon," ",t.label]},t.value))}),["ytd","year","yoy"].includes(y)&&e.jsx("select",{value:u,onChange:t=>ue(parseInt(t.target.value)),className:"px-3 py-1.5 bg-white/10 border border-white/20 rounded-lg text-xs font-bold text-white focus:outline-none focus:ring-2 focus:ring-blue-400",children:[u,u-1,u-2].map(t=>e.jsx("option",{value:t,className:"text-slate-900",children:t},t))}),y==="yoy"&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xs text-slate-400",children:"vs"}),e.jsx("select",{value:q,onChange:t=>me(parseInt(t.target.value)),className:"px-3 py-1.5 bg-white/10 border border-white/20 rounded-lg text-xs font-bold text-white focus:outline-none focus:ring-2 focus:ring-blue-400",children:[u-1,u-2,u-3].map(t=>e.jsx("option",{value:t,className:"text-slate-900",children:t},t))})]}),y==="week"&&e.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[e.jsx("button",{onClick:be,className:"p-1 hover:bg-white/10 rounded-lg transition-colors",children:e.jsx(He,{size:16})}),e.jsx("span",{className:"text-xs text-slate-400 font-bold uppercase tracking-widest min-w-[200px] text-center",children:k}),e.jsx("button",{onClick:fe,className:"p-1 hover:bg-white/10 rounded-lg transition-colors",children:e.jsx(ve,{size:16})})]}),y!=="week"&&e.jsx("span",{className:"text-xs text-slate-400 font-bold uppercase tracking-widest ml-auto",children:k}),e.jsxs("button",{onClick:he,className:"flex items-center gap-2 px-3 py-1.5 bg-emerald-500/20 hover:bg-emerald-500/30 border border-emerald-400/30 rounded-lg transition-colors text-xs font-bold ml-4",children:[e.jsx(Le,{size:14}),"PDF Export"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[e.jsx("label",{className:"text-xs text-slate-400 font-bold uppercase tracking-widest",children:"Afdeling:"}),pe?e.jsx("select",{value:p,onChange:t=>E(t.target.value),className:"bg-white/10 border border-white/20 rounded-xl px-4 py-2 text-sm font-bold text-white focus:outline-none focus:ring-2 focus:ring-blue-400",children:F.map(t=>e.jsx("option",{value:t,className:"text-slate-900",children:t},t))}):e.jsxs("div",{className:"bg-white/10 border border-white/20 rounded-xl px-4 py-2 text-sm font-bold text-white flex items-center gap-2",children:[p,e.jsx("span",{className:"text-xs text-blue-300",children:"(toegewezen)"})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(te,{className:"text-slate-600",size:24}),e.jsx("span",{className:"px-3 py-1 bg-slate-100 text-slate-700 rounded-full text-xs font-black",children:"Totaal"})]}),e.jsxs("div",{className:"text-4xl font-black text-slate-600 mb-2",children:[r.totalProductionHours,"u"]}),e.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-widest font-bold",children:"Alle uren"}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-slate-600",children:"Operators"}),e.jsx("span",{className:"font-bold",children:r.operatorCount})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-slate-600",children:"Overhead"}),e.jsxs("span",{className:"font-bold",children:[r.overheadHours,"u"]})]})]})]}),e.jsxs("div",{className:"bg-white border-2 border-emerald-200 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(We,{className:"text-emerald-600",size:24}),e.jsx("span",{className:"px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full text-xs font-black",children:"Productie"})]}),e.jsxs("div",{className:"text-4xl font-black text-emerald-600 mb-2",children:[r.realProductionHours,"u"]}),e.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-widest font-bold",children:"BH/BA stations"}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-slate-600",children:"Ratio"}),e.jsxs("span",{className:"font-bold",children:[r.productionRatio,"%"]})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-slate-600",children:"Support"}),e.jsxs("span",{className:"font-bold",children:[r.supportHours,"u"]})]})]})]}),e.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(ze,{className:"text-blue-600",size:24}),e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-black",children:"Planning"})]}),e.jsxs("div",{className:"text-4xl font-black text-blue-600 mb-2",children:[s.estimatedHours,"u"]}),e.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-widest font-bold",children:"Geplande uren"}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-slate-600",children:"Orders"}),e.jsx("span",{className:"font-bold",children:s.totalOrders})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-slate-600",children:"Units"}),e.jsx("span",{className:"font-bold",children:s.totalPlannedUnits})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-slate-600",children:"Met standaard"}),e.jsxs("span",{className:"font-bold",children:[s.ordersWithStandards,"/",s.totalOrders]})]})]})]}),e.jsxs("div",{className:`bg-white border-2 rounded-2xl p-6 ${o.status==="surplus"?"border-emerald-200":"border-rose-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.status==="surplus"?e.jsx(Q,{className:"text-emerald-600",size:24}):e.jsx(T,{className:"text-rose-600",size:24}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-black ${o.status==="surplus"?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:o.status==="surplus"?"Overschot":"Tekort"})]}),e.jsxs("div",{className:`text-4xl font-black mb-2 ${o.status==="surplus"?"text-emerald-600":"text-rose-600"}`,children:[o.status==="surplus"?"+":"",o.hours,"u"]}),e.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-widest font-bold",children:o.status==="surplus"?"Overcapaciteit":"Ondercapaciteit"}),e.jsx("div",{className:"mt-4 pt-4 border-t border-slate-100",children:e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-slate-600",children:"Percentage"}),e.jsxs("span",{className:`font-black ${o.status==="surplus"?"text-emerald-600":"text-rose-600"}`,children:[o.percentage>0?"+":"",o.percentage,"%"]})]})})]})]}),s.ordersWithoutStandards>0&&e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-2xl p-4 flex items-start gap-3",children:[e.jsx(T,{className:"text-amber-600 flex-shrink-0",size:20}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-amber-900",children:"Ontbrekende Standaard Tijden"}),e.jsxs("div",{className:"text-xs text-amber-700 mt-1",children:[s.ordersWithoutStandards," orders hebben geen standaard productietijd ingesteld. Ga naar ",e.jsx("strong",{children:"Productie Tijden"})," om deze toe te voegen voor nauwkeurigere capaciteitsberekening."]})]})]}),e.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-2xl p-6",children:[e.jsxs("h3",{className:"text-sm font-black uppercase tracking-widest text-slate-700 mb-4 flex items-center gap-2",children:[e.jsx(we,{size:18}),"Aanbevelingen"]}),e.jsxs("div",{className:"space-y-3",children:[o.status==="shortage"?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-rose-50 rounded-xl",children:[e.jsx(T,{className:"text-rose-600 flex-shrink-0 mt-0.5",size:16}),e.jsxs("div",{className:"text-xs",children:[e.jsx("div",{className:"font-bold text-rose-900",children:"Onderbezetting"}),e.jsxs("div",{className:"text-rose-700 mt-1",children:["Er zijn ",Math.abs(o.hours)," uur te weinig. Overweeg extra shifts, overuren, of herplan niet-kritische orders."]})]})]})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-emerald-50 rounded-xl",children:[e.jsx(Q,{className:"text-emerald-600 flex-shrink-0 mt-0.5",size:16}),e.jsxs("div",{className:"text-xs",children:[e.jsx("div",{className:"font-bold text-emerald-900",children:"Capaciteit Beschikbaar"}),e.jsxs("div",{className:"text-emerald-700 mt-1",children:["Er zijn ",o.hours," uur over. Mogelijkheden: extra orders aannemen, preventief onderhoud, training, of proces optimalisatie."]})]})]})}),r.efficiency<70&&e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-amber-50 rounded-xl",children:[e.jsx(ye,{className:"text-amber-600 flex-shrink-0 mt-0.5",size:16}),e.jsxs("div",{className:"text-xs",children:[e.jsx("div",{className:"font-bold text-amber-900",children:"Lage Efficiency"}),e.jsxs("div",{className:"text-amber-700 mt-1",children:["Slechts ",r.efficiency,"% van de tijd wordt productief gebruikt. Analyseer waar tijd verloren gaat: setup, wachttijden, materiaal tekorten?"]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-2xl p-6",children:[e.jsx("h3",{className:"text-sm font-black uppercase tracking-widest text-slate-700 mb-4",children:"Uren Verdeling"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-slate-600",children:"Productie (BH/BA)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-32 h-2 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-emerald-500 rounded-full",style:{width:`${r.productionRatio}%`}})}),e.jsxs("span",{className:"text-xs font-bold text-slate-800 w-16 text-right",children:[r.realProductionHours,"u"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-slate-600",children:"Support"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-32 h-2 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-slate-400 rounded-full",style:{width:`${100-r.productionRatio}%`}})}),e.jsxs("span",{className:"text-xs font-bold text-slate-800 w-16 text-right",children:[r.supportHours,"u"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-100",children:[e.jsx("span",{className:"text-xs text-slate-600",children:"Overhead"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-32 h-2 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-amber-500 rounded-full",style:{width:`${100-r.efficiency}%`}})}),e.jsxs("span",{className:"text-xs font-bold text-slate-800 w-16 text-right",children:[r.overheadHours,"u"]})]})]})]})]}),e.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-2xl p-6",children:[e.jsx("h3",{className:"text-sm font-black uppercase tracking-widest text-slate-700 mb-4",children:"Planning Status"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-slate-600",children:"Met standaard"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-32 h-2 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${s.totalOrders>0?s.ordersWithStandards/s.totalOrders*100:0}%`}})}),e.jsx("span",{className:"text-xs font-bold text-slate-800 w-16 text-right",children:s.ordersWithStandards})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-slate-600",children:"Zonder standaard"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-32 h-2 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-amber-500 rounded-full",style:{width:`${s.totalOrders>0?s.ordersWithoutStandards/s.totalOrders*100:0}%`}})}),e.jsx("span",{className:"text-xs font-bold text-slate-800 w-16 text-right",children:s.ordersWithoutStandards})]})]})]})]})]}),H.length>0&&e.jsxs("div",{className:"bg-white border-2 border-red-200 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(X,{className:"text-red-600",size:20}),e.jsx("h3",{className:"text-sm font-black uppercase tracking-widest text-slate-700",children:"GeÃ¯dentificeerde Knelpunten"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:H.map((t,a)=>{const i=t.icon;return e.jsx("div",{className:`p-4 rounded-xl border-2 ${t.severity==="high"?"bg-red-50 border-red-200":"bg-amber-50 border-amber-200"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(i,{className:t.color,size:20}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm text-slate-800",children:t.title}),e.jsx("div",{className:"text-xs text-slate-600 mt-1",children:t.description}),e.jsxs("div",{className:`text-xs font-bold mt-2 ${t.severity==="high"?"text-red-600":"text-amber-600"}`,children:["Prioriteit: ",t.severity.toUpperCase()]})]})]})},a)})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 border-2 border-purple-200 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Te,{className:"text-purple-600",size:20}),e.jsx("h3",{className:"text-sm font-black uppercase tracking-widest text-slate-700",children:"Voorspelling Volgende Week"}),e.jsx("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-700 rounded-full font-bold",children:"BETA"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl p-4 border border-purple-100",children:[e.jsx("div",{className:"text-xs text-slate-600 uppercase tracking-wider mb-1",children:"Verwachte Vraag"}),e.jsxs("div",{className:"text-2xl font-black text-purple-600",children:[S.nextWeekDemand,"u"]}),e.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"+10% trend groei"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 border border-purple-100",children:[e.jsx("div",{className:"text-xs text-slate-600 uppercase tracking-wider mb-1",children:"Voorspeld Verschil"}),e.jsxs("div",{className:`text-2xl font-black ${S.nextWeekGap>=0?"text-emerald-600":"text-red-600"}`,children:[S.nextWeekGap,"u"]}),e.jsx("div",{className:"text-xs text-slate-500 mt-1",children:S.trend==="increasing_pressure"?"âš ï¸ Toenemende druk":"âœ“ Beheersbaar"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 border border-purple-100",children:[e.jsx("div",{className:"text-xs text-slate-600 uppercase tracking-wider mb-1",children:"Betrouwbaarheid"}),e.jsx("div",{className:`text-2xl font-black ${S.confidence==="high"?"text-emerald-600":S.confidence==="medium"?"text-amber-600":"text-slate-400"}`,children:S.confidence==="high"?"Hoog":S.confidence==="medium"?"Middel":"Laag"}),e.jsx("div",{className:"text-xs text-slate-500 mt-1",children:s.ordersWithStandards>0?`${s.ordersWithStandards} orders met data`:"Onvoldoende data"})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-xl border border-blue-100",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(X,{className:"text-blue-600 flex-shrink-0 mt-0.5",size:14}),e.jsxs("div",{className:"text-xs text-blue-800",children:[e.jsx("strong",{children:"Let op:"})," Deze voorspelling is gebaseerd op historische trends en aannames. Gebruik dit als indicatie, niet als absolute waarheid. Houd rekening met seizoensinvloeden, geplande stilstand, en externe factoren."]})]})})]})]})};export{rt as default};
